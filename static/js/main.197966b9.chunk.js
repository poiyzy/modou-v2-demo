(this["webpackJsonpmodou-config"]=this["webpackJsonpmodou-config"]||[]).push([[0],{217:function(e,t,n){},270:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"schema://transformer#","title":"MagicBean transformer","type":"object","properties":{"className":{"type":"string","enum":["Aggregation","Alignment","Bucketizer","Classifier","Distinct","Dummy","DynamicColumnFilter","ExplodeMBean","GBTTransformer","LogisticRegressTransformer","RandomForestTransformer","MBeanLoader","Merge","NaFiller","PivotMBean","FeaturePreselector","RabbitMQBroker","RandomSample","ShardingMBean","SplitTrainAndTest","StandardizeMBean","Union"]},"versionId":{"type":"string"},"before":{"$ref":"schema://config#/transformer/definitions/commonConfigCollection"},"after":{"$ref":"schema://config#/transformer/definitions/commonConfigCollection"},"process":{"type":"object","properties":{"uuid":{"$ref":"schema://config#/transformer/definitions/uuidConfig"},"timestamp":{"$ref":"schema://config#/transformer/definitions/timestampConfig"},"mergeBy":{"$ref":"schema://config#/transformer/definitions/mergeByConfig"},"join":{"$ref":"schema://config#/transformer/definitions/joinConfig"},"label":{"$ref":"schema://config#/transformer/definitions/labelConfig"},"align":{"$ref":"schema://config#/transformer/definitions/alignConfig"},"groupBy":{"$ref":"schema://config#/transformer/definitions/groupByConfig"},"pivot":{"$ref":"schema://config#/transformer/definitions/pivotConfig"},"agg":{"$ref":"schema://config#/transformer/definitions/aggConfig"},"distinct":{"$ref":"schema://config#/transformer/definitions/distinctConfig"},"dynamicColumnSelector":{"$ref":"schema://config#/transformer/definitions/dynamicColumnSelectorConfig"},"explode":{"$ref":"schema://config#/transformer/definitions/explodeConfig"},"train":{"$ref":"schema://config#/transformer/definitions/trainConfig"},"cv":{"$ref":"schema://config#/transformer/definitions/cvConfig"},"score":{"$ref":"schema://config#/transformer/definitions/scoreConfig"},"sampleRatio":{"$ref":"schema://config#/transformer/definitions/sampleRatio"},"quantile":{"$ref":"schema://config#/transformer/definitions/quantileConfig"},"maxLevel":{"$ref":"schema://config#/transformer/definitions/maxLevelConfig"},"dense":{"$ref":"schema://config#/transformer/definitions/denseConfig"},"fillDefaults":{"$ref":"schema://config#/transformer/definitions/fillDefaultsConfig"},"primaryKey":{"$ref":"schema://config#/transformer/definitions/primaryKeyConfig"},"shardingMaxColumns":{"$ref":"schema://config#/transformer/definitions/shardingMaxColumnsConfig"},"importanceFilter":{"$ref":"schema://config#/transformer/definitions/importanceFilterConfig"},"path":{"$ref":"schema://config#/transformer/definitions/pathConfig"},"metadata":{"$ref":"schema://config#/transformer/definitions/metadataConfig"},"bucket":{"$ref":"schema://config#/transformer/definitions/bucketConfig"},"features":{"$ref":"schema://config#/transformer/definitions/featuresConfig"},"sampleLabel":{"$ref":"schema://config#/transformer/definitions/sampleLabel"},"limit":{"$ref":"schema://config#/transformer/definitions/limitConfig"},"union":{"$ref":"schema://config#/transformer/definitions/unionConfig"},"output":{"$ref":"schema://config#/transformer/definitions/outputConfig"},"trainRatio":{"type":"number"}}}},"required":["className"],"allOf":[{"if":{"properties":{"className":{"const":"Aggregation"}}},"then":{"properties":{"process":{"required":["groupBy","agg"]}}}},{"if":{"properties":{"className":{"const":"Alignment"}}},"then":{"properties":{"process":{"required":["align"]}}}},{"if":{"properties":{"className":{"const":"Bucketizer"}}},"then":{"properties":{"process":{"required":["bucket"]}}}},{"if":{"properties":{"className":{"const":"Classifier"}}},"then":{"properties":{"process":{"oneOf":[{"required":["train"]},{"required":["score"]}]}}}},{"if":{"properties":{"className":{"const":"Distinct"}}},"then":{"properties":{"process":{"required":["distinct"]}}}},{"if":{"properties":{"className":{"const":"DynamicColumnSelector"}}},"then":{"properties":{"process":{"required":["dynamicColumnSelector"]}}}},{"if":{"properties":{"className":{"const":"ExplodeMBean"}}},"then":{"properties":{"process":{"required":["explode"]}}}},{"if":{"properties":{"className":{"const":"GBTTransformer"}}},"then":{"properties":{"process":{"required":["train","cv"]}}}},{"if":{"properties":{"className":{"const":"LogisticRegressTransformer"}}},"then":{"properties":{"process":{"required":["train","cv"]}}}},{"if":{"properties":{"className":{"const":"RandomForestTransformer"}}},"then":{"properties":{"process":{"required":["train","cv"]}}}},{"if":{"properties":{"className":{"const":"Merge"}}},"then":{"properties":{"process":{"required":["mergeBy"]}}}},{"if":{"properties":{"className":{"const":"NaFiller"}}},"then":{"properties":{"process":{"required":["fillDefaults"]}}}},{"if":{"properties":{"className":{"const":"PivotMBean"}}},"then":{"properties":{"process":{"required":["pivot","groupBy"]}}}},{"if":{"properties":{"className":{"const":"FeaturePreselector"}}},"then":{"properties":{"process":{"required":["sampleRatio","quantile","maxLevel"]}}}},{"if":{"properties":{"className":{"const":"RabbitMQBroker"}}},"then":{"properties":{"process":{"required":["rabbitmq"]}}}},{"if":{"properties":{"className":{"const":"RandomSample"}}},"then":{"properties":{"process":{"required":["sampleRatio"]}}}},{"if":{"properties":{"className":{"const":"ShardingMBean"}}},"then":{"properties":{"process":{"required":["primaryKey","shardingMaxColumns"]}}}},{"if":{"properties":{"className":{"const":"SplitTrainAndTest"}}},"then":{"properties":{"process":{"required":["trainRatio"]}}}},{"if":{"properties":{"className":{"const":"Union"}}},"then":{"properties":{"process":{"required":["union"]}}}}]}')},271:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"schema://config#","title":"config collections","type":"object","properties":{},"common":{"definitions":{"jdbcConfig":{"$id":"#jdbcConfig","type":"object","properties":{"driver":{"type":"string"},"uri":{"type":"string"},"sql":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"}},"required":["driver","uri","sql","username","password"]},"hiveConfig":{"$id":"#hiveConfig","type":"object","properties":{"sql":{"type":"string"},"table":{"type":"string"},"format":{"type":"string","enum":["parquet","carbon"]}}},"persistent":{"$id":"#persistent","type":"object","properties":{"repartition":{"type":"integer","default":0,"minimum":0,"maximum":10000},"partitionBy":{"type":"array","items":{"type":"string"}},"saveMode":{"type":"string","enum":["override","append"]},"hdfsConfig":{"$ref":"#/common/definitions/hdfsConfig"},"hiveConfig":{"$ref":"#/common/definitions/hiveConfig"}},"required":[]},"hdfsConfig":{"$id":"#hdfsConfig","type":"object","properties":{"path":{"type":"string"},"sql":{"type":"string"},"format":{"type":"string","enum":["parquet","carbon"],"default":"parquet"},"compression":{"type":"string","enum":["uncompressed","snappy","gzip","lzo","brotli","lz4","zstd"]}},"required":["path"]}}},"transformer":{"definitions":{"commonConfigCollection":{"$id":"#commonConfigCollection","type":"object","properties":{"eval":{"$ref":"#/transformer/definitions/evalConfig"},"rename":{"$ref":"#/transformer/definitions/renameConfig"},"filter":{"$ref":"#/transformer/definitions/filterConfig"},"exclude":{"$ref":"#/transformer/definitions/excludeConfig"},"keep":{"$ref":"#/transformer/definitions/keepConfig"}},"additionalProperties":false},"evalConfig":{"$id":"#evalConfig","type":"array","items":{"$ref":"#/transformer/definitions/mbeanEvalConfig"}},"mbeanEvalConfig":{"$id":"#mbeanEvalConfig","type":"object","properties":{"name":{"type":"string"},"functions":{"type":"array","items":{"properties":{"name":{"type":"string"},"output":{"type":"string"},"params":{"type":"array","items":{"oneOf":[{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"array","items":{"oneOf":[{"type":"number"},{"type":"string"},{"type":"boolean"}]}}]}}},"required":["name","output"]}}}},"renameConfig":{"$id":"#renameConfig","type":"array","items":{"$ref":"#/transformer/definitions/mbeanRenameConfig"}},"mbeanRenameConfig":{"$id":"#mbeanRenameConfig","type":"object","properties":{"name":{"type":"string"},"columns":{"type":"array","items":{"type":"array","items":{"type":"string"},"minItems":2,"maxItems":2}}}},"filterConfig":{"$id":"#filterConfig","type":"array","items":{"$ref":"#/transformer/definitions/mbeanFilterConfig"}},"mbeanFilterConfig":{"$id":"#mbeanFilterConfig","type":"object","properties":{"name":{"type":"string"},"filter":{"type":"array","items":{"$ref":"#/transformer/definitions/conditionGroupConfig"}}},"required":["name","filter"]},"excludeConfig":{"$id":"#excludeConfig","type":"array","items":{"$ref":"#/transformer/definitions/mbeanExcludeConfig"}},"mbeanExcludeConfig":{"$id":"#mbeanExcludeConfig","type":"object","properties":{"name":{"type":"string"},"columns":{"type":"array","items":{"type":"string"}}}},"keepConfig":{"$id":"#keepConfig","type":"array","items":{"$ref":"#/transformer/definitions/mbeanKeepConfig"}},"mbeanKeepConfig":{"$id":"#mbeanKeepConfig","type":"object","properties":{"name":{"type":"string"},"columns":{"type":"array","items":{"type":"string"}}}},"uuidConfig":{"$id":"#uuidConfig","type":"object","properties":{"col":{"type":"string"}},"required":["col"]},"timestampConfig":{"$id":"#timestampConfig","type":"object","properties":{"col":{"type":"string"}},"required":["type"]},"mergeByConfig":{"$id":"#mergeByConfig","type":"object","properties":{"mainNode":{"type":"string"},"joinType":{"type":"string","enum":["inner","left","right","fullouter"]},"keys":{"type":"array","items":{"type":"string"},"minItems":1},"exprs":{"type":"array","items":{"$ref":"#/transformer/definitions/conditionGroupConfig"}},"name":{"type":"string","default":"merged"}},"required":["mainNode"],"dependencies":{"joinType":{"required":["keys"]}}},"joinConfig":{"$id":"#joinConfig","type":"object","properties":{"joinType":{"type":"string","enum":["inner","left","right","fullouter"]},"expr":{"$ref":"#/transformer/definitions/conditionGroupConfig"}}},"labelConfig":{"$id":"#labelConfig","type":"array","items":{"$ref":"#/transformer/definitions/conditionGroupConfig"}},"conditionGroupConfig":{"$id":"#conditionGroupConfig","type":"array","items":[{"type":"string","enum":["and","or"]},{"type":"array","items":{"$ref":"#/transformer/definitions/conditionConfig"}}]},"conditionConfig":{"$id":"#conditionConfig","type":"array","items":[{"type":"string","enum":[">",">=","<","<=","=","!=","is null","is not null"]},{"type":"string"},{"type":"string"}]},"alignConfig":{"$id":"#alignConfig","type":"object","properties":{"mainNode":{"type":"string"},"granularities":{"type":"array","items":{"type":"string","enum":["hour","day","week","month"]}}},"required":["mainNode","granularities"]},"groupByConfig":{"$id":"#groupByConfig","type":"array","items":{"type":"string"},"minItems":1},"pivotConfig":{"$id":"#pivotConfig","type":"object","properties":{"key":{"type":"string"},"top":{"type":"integer","default":0},"suffix":{"type":"string","default":""},"value":{"type":"string"}},"required":["key"]},"aggConfig":{"$id":"#aggConfig","type":"object","properties":{"functions":{"type":"array","minItems":1,"items":{"$ref":"#/transformer/definitions/aggFuncConfig"}},"suffix":{"type":"string"}},"required":["functions"]},"aggFuncConfig":{"$id":"#aggFuncConfig","type":"object","properties":{"name":{"type":"string","enum":["count","sum","min","max","avg","mean","decay","unique","entropy","frequency","topValues","topCounts","topPercents","bottomValues","bottomCounts","bottomPercents"]},"columns":{"type":"array","minItems":1,"items":{"type":"string"}},"params":{"type":"object","properties":{"maxLevels":{"type":"integer"}}}},"required":["name","columns"],"allOf":[{"if":{"properties":{"name":{"const":"decay"}}},"then":{"properties":{"params":{"type":"object","properties":{"decayInterval":{"type":"string"},"decayRatio":{"type":"number"}},"required":["decayInterval","decayRatio"]}}}},{"if":{"properties":{"name":{"pattern":"(topValues|topCounts|topPercents|bottomValues|bottomCounts|bottomPercents)"}}},"then":{"properties":{"params":{"type":"object","properties":{"limit":{"type":"number"}},"required":["limit"]}}}}]},"distinctConfig":{"$id":"#distinctConfig","type":"array","items":{"type":"string"}},"dynamicColumnSelectorConfig":{"$id":"#dynamicColumnSelectorConfig","type":"object","properties":{"selectorNodeId":{"type":"string"},"nameField":{"type":"string"},"keep":{"type":"array","items":{"type":"string"}},"fillMissingColumn":{"$ref":"#/transformer/definitions/fillDefaultsConfig"},"dataTypeField":{"type":"string"}},"required":["selectorNodeId","nameField"]},"explodeConfig":{"$id":"#explodeConfig","type":"object","properties":{"col":{"type":"string"},"rename":{"type":"string"},"pos":{"type":"boolean","default":false},"outer":{"type":"boolean","default":false}},"required":["col","rename"]},"trainConfig":{"$id":"#trainConfig","type":"object","properties":{"algoName":{"type":"string","enum":["LR","GBT","RF"]},"numericDefault":{"type":"integer","default":0},"categoricalDefault":{"type":"string","default":""}},"required":["algoName"],"allOf":[{"if":{"properties":{"algoName":{"const":"LR"}}},"then":{"properties":{"algoPram":{"type":"object","properties":{"elasticNetParam":{"type":"array","items":{"type":"number"}},"regParam":{"type":"array","items":{"type":"number"}},"maxIter":{"type":"array","items":{"type":"number"}}}}}}},{"if":{"properties":{"algoName":{"const":"GBT"}}},"then":{"properties":{"algoPram":{"type":"object","properties":{"maxBins":{"type":"array","items":{"type":"number"}},"maxDepth":{"type":"array","items":{"type":"number"}},"maxIter":{"type":"array","items":{"type":"number"}}}}}}},{"if":{"properties":{"algoName":{"const":"RF"}}},"then":{"properties":{"algoPram":{"type":"object","properties":{"maxBins":{"type":"array","items":{"type":"number"},"default":[16,32,64]},"maxDepth":{"type":"array","items":{"type":"number"},"default":[5,7,9]},"numTrees":{"type":"array","items":{"type":"number"},"default":[40,80,160]}}}}}}]},"cvConfig":{"$id":"#cvConfig","type":"object","properties":{"folders":{"type":"integer","default":3},"parallelism":{"type":"integer","default":1}},"required":["folders","parallelism"]},"scoreConfig":{"$id":"#scoreConfig","type":"object","properties":{"modelPath":{"type":"string"},"numericDefault":{"type":"number","default":0},"categoricalDefault":{"type":"string","default":""}},"required":["modelPath"]},"sampleRatio":{"$id":"#sampleRatio","type":"number","default":1},"quantileConfig":{"$id":"#quantilConfig","type":"number","default":10},"maxLevelConfig":{"$id":"#maxLevelConfig","type":"integer","default":20},"denseConfig":{"$id":"#denseConfig","type":"object","properties":{"key":{"type":"string"},"minFields":{"type":"integer"},"partitions":{"type":"integer"}},"required":["key","minFields","partitions"]},"fillDefaultsConfig":{"$id":"#fillDefaultsConfig","type":"object","properties":{"number":{"type":"number"},"string":{"type":"string"},"boolean":{"type":"boolean"},"timestamp":{"type":"string"}}},"primaryKeyConfig":{"$id":"#primaryKeyConfig","type":"array","items":{"type":"string"}},"shardingMaxColumnsConfig":{"$id":"#shardingMaxColumnsConfig","type":"integer"},"importanceFilterConfig":{"$id":"#importanceFilterConfig","type":"boolean"},"pathConfig":{"$id":"#pathConfig","type":"string"},"metadataConfig":{"$id":"#metadataConfig","type":"boolean"},"bucketConfig":{"$id":"#bucketConfig","type":"object","properties":{"num":{"type":"integer"},"splits":{"type":"array","items":{"type":"number"}},"key":{"type":"string"},"out":{"type":"string"},"strategy":{"type":"string","enum":["QuantileDiscretizer","Splitter"]}},"required":["key","out"],"allOf":[{"if":{"properties":{"strategy":{"const":"QuantileDiscretizer"}}},"then":{"required":["num"]}},{"if":{"properties":{"strategy":{"const":"Splitter"}}},"then":{"required":["splits"]}}]},"featuresConfig":{"$id":"#featuresConfig","type":"array","items":{"type":"string"}},"sampleLabel":{"$id":"#sampleLabel","type":"object","properties":{"maxPositives":{"type":"integer"},"ratio":{"type":"number","default":1}},"required":["maxPositives"]},"limitConfig":{"$id":"#limitConfig","type":"integer"},"unionConfig":{"$id":"#unionConfig","type":"string","enum":["unionAll","unionByName","union"]},"outputConfig":{"$id":"#outputConfig","type":"object","properties":{"types":{"type":"string","enum":["schema","data"]}}}}}}')},272:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"schema://mbean#","title":"MagicBean","type":"object","properties":{"name":{"type":"string"},"versionId":{"type":"string"},"mbeanType":{"type":"string"},"jdbc":{"$ref":"schema://config#/common/definitions/jdbcConfig"},"hdfs":{"$ref":"schema://config#/common/definitions/hdfsConfig"},"hive":{"$ref":"schema://config#/common/definitions/hiveConfig"}},"required":["name"],"anyOf":[{"required":["jdbc"]},{"required":["hdfs"]},{"required":["hive"]}]}')},273:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"schema://mbnode#","title":"Node of MagicBean workflow","type":"object","properties":{"id":{"type":"string"},"skip":{"type":"boolean","default":false},"accept":{"type":"array","items":{"type":"string"}},"parent":{"type":"array","items":{"type":"string"}},"mbean":{"type":"array","items":{"$ref":"schema://mbean#"}},"transformer":{"$ref":"schema://transformer#"},"persistent":{"$ref":"#/definitions/persistent"}},"required":["id","transformer"],"definitions":{"persistent":{"$id":"#persistent","type":"object","properties":{"repartition":{"type":"integer","default":0,"minimum":0,"maximum":10000},"partitionBy":{"type":"array","items":{"type":"string"}},"saveMode":{"type":"string","enum":["override","append"]},"hdfs":{"$ref":"schema://config#/common/definitions/hdfsConfig"},"hive":{"$ref":"schema://config#/common/definitions/hiveConfig"}},"required":[],"anyOf":[{"required":["hdfs"]},{"required":["hive"]}]}},"allOf":[{"if":{"properties":{"transformer":{"properties":{"className":{"const":"MBeanLoader"}}}}},"then":{"required":["mbean"]}}]}')},274:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"schema://workflow#","title":"MagicBean workflow","description":"","type":"object","properties":{"dagId":{"type":"string","description":"The unique identifier for a workflow"},"owner":{"type":"string","description":"The one which create the workflow"},"spark":{"$ref":"#/definitions/sparkConfig"},"workspace":{"type":"string"},"workflow":{"type":"array","items":{"$ref":"schema://mbnode#"},"minItems":1,"maxItems":100}},"required":["dagId","workflow"],"definitions":{"sparkConfig":{"$id":"#sparkConfig","type":"object","properties":{"executorMemory":{"type":"string","default":"5G"},"master":{"type":"string","default":"yarn"},"sqlWarehouseDir":{"type":"string","default":"hdfs://growingFS/user/hive/warehouse"},"carbonEnabled":{"type":"boolean","default":true},"networkTimeout":{"type":"number","default":120000},"executorHeartBeatInterval":{"type":"number","default":100000},"loggingLevel":{"type":"string","default":"warn"},"sqlPivotMaxValues":{"type":"number","default":50000},"executorCores":{"type":"integer","default":16},"driverMemory":{"type":"string","default":"5G"},"mergeSchema":{"type":"boolean","default":false},"executorInstances":{"type":"integer","default":3}},"additionalProperties":false}}}')},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},373:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){},490:function(e,t,n){},491:function(e,t,n){},492:function(e,t,n){},493:function(e,t,n){},494:function(e,t,n){},495:function(e,t,n){},496:function(e,t,n){},497:function(e,t,n){},498:function(e,t,n){},499:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){},509:function(e,t,n){},510:function(e,t,n){},511:function(e,t,n){},512:function(e,t,n){},514:function(e,t,n){},518:function(e,t,n){},608:function(e,t,n){},609:function(e,t,n){"use strict";n.r(t);var a=n(13),i=n(1),r=n(0),c=n.n(r),s=n(47),o=n.n(s),l=n(19),d=n(53),u=n(177),p=n(27),b=n(8),m=n(9),j=n(16),f=n(15),h=n(275);var g=Object(l.b)("userStore")(Object(l.c)((function(e){var t=e.children,n=e.userStore,r=Object(h.a)(e,["children","userStore"]);return n.loading?Object(i.jsx)("div",{children:"Loading, wait a second..."}):Object(i.jsx)(p.b,Object(a.a)(Object(a.a)({},r),{},{render:function(e){var a=e.location;return n.authed?t:Object(i.jsx)(p.a,{to:{pathname:"/login",state:{from:a}}})}}))}))),O=n(102),y=n.n(O),v=n(67),x=(n(302),Object(l.b)("userStore","routingStore")(Object(l.c)((function(e){return Object(i.jsxs)("header",{className:"modou-app__header",children:[Object(i.jsxs)(v.a,{className:"logo",to:"/",children:[Object(i.jsx)("span",{className:"logo__magic",children:"magic"}),Object(i.jsx)("span",{className:"logo__bean",children:"bean"}),Object(i.jsx)("span",{className:"logo__dot",children:"."}),Object(i.jsx)("span",{className:"logo__ai",children:"ai"})]}),Object(i.jsxs)("div",{className:"navbar",children:[Object(i.jsx)(v.b,{activeClassName:"current",to:"/projects",children:"Predict"}),Object(i.jsx)(v.b,{activeClassName:"current",to:"/segments",children:"Segments"}),Object(i.jsx)(v.b,{activeClassName:"current",to:"/feature_sets",children:"Feature Sets"}),Object(i.jsx)(v.b,{activeClassName:"current",to:"/admin",children:"Admin"})]}),Object(i.jsx)("div",{className:"sign-out",onClick:function(){y.a.get("/api/user/logout").then((function(t){e.userStore.signOut(),e.userStore.stompWebsocket.disconnect(),e.routingStore.push("/login")}))},children:"logout"}),Object(i.jsx)("div",{className:"profile",children:Object(i.jsx)(v.a,{to:"/profile",children:Object(i.jsx)("img",{src:"https://i.pravatar.cc/32?img=58",alt:""})})})]})})))),_=n(10),N=n(2),k=n(5),C=n(7),w=(n(51),n(3)),S=n(617),T={type:"object",key:"crossValidation",label:"Cross validation",properties:[{key:"folders",type:"input",dataType:"number",label:"Number of folders",defaultValue:2},{key:"parallelism",type:"input",dataType:"number",label:"Parallelism",defaultValue:1}]},I={key:"fillDefaults",label:"FillDefaults Config",type:"object",properties:[{label:"Default value for number column(s)",type:"input",key:"number",dataType:"number",placeholder:""},{label:"Default value for string column(s)",type:"input",key:"string",placeholder:""},{label:"Default value for boolean columns(s)",type:"select",key:"boolean",placeholder:"",selectOptions:[{key:"true",value:!0,name:"true"},{key:"false",value:!1,name:"false"}]},{label:"Default value for timestamp, date column(s)",type:"input",key:"timestamp",placeholder:""}]},P={Alignment:{name:"Alignment",iconClassName:"icondatabase",defaultTemplate:{id:"align_config",name:"Alignment",skip:!1,comment:"",accept:["feature"],transformer:{className:"Alignment",before:{},process:{align:{}},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"align",label:"Align Config",type:"object",required:!0,properties:[{label:"Main Node",type:"select",optionsSetting:{readFromNodeAttr:"parent",transform:"findNodeById",valueAttr:"id",nameAttr:"name"},key:"mainNode",placeholder:"Id of the left mbean"},{label:"Granularities",type:"multiselect",selectOptions:[{key:"hour",name:"Hour"},{key:"day",name:"Day"},{key:"week",name:"Week"},{key:"month",name:"Month"}],key:"granularities",placeholder:"select at least one granularites"}]}]},Aggregation:{name:"Aggregation",iconClassName:"icondatabase",defaultTemplate:{id:"aggregate_node",name:"Aggregation",skip:!1,comment:"Aggregate data",accept:["feature"],transformer:{className:"Aggregation",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"groupBy",label:"Group by columns",placeholder:"Select at least one column as group by keys",type:"array",required:!0,items:{type:"string"}},{key:"agg",label:"Agg Config",type:"object",required:!0,properties:[{key:"functions",type:"array",label:"Aggregate functions",items:{type:"AggregateFunction"}},{key:"suffix",type:"input",label:"Suffix"}]}]},BinaryLabel:{name:"BinaryLabel",iconClassName:"icondatabase",defaultTemplate:{id:"binary_label",name:"BinaryLabel",skip:!1,comment:"",accept:["feature"],transformer:{className:"BinaryLabel",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"uuid",label:"UUID column",placeholder:"select uuid column",type:"input",required:!0,dataType:"string"},{key:"timestamp",label:"Timestamp column",placeholder:"select timestamp column",type:"input",required:!0,dataType:"string"},{key:"y",label:"Y Label",placeholder:"select y label column",type:"input",required:!0,dataType:"string"}]},Bucketizer:{name:"Bucketizer",iconClassName:"icondatabase",defaultTemplate:{id:"distinct_config",name:"Bucketizer",skip:!1,comment:"load event with both daily and weekly timestamp.",accept:["feature"],transformer:{className:"Bucketizer",before:{},process:{bucket:{output:"bucket"}},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"bucket",label:"Bucket Config",type:"object",required:!0,properties:[{label:"Strategy",type:"select",key:"strategy",placeholder:"select bucket strategy",selectOptions:[{key:"QuantileDiscretizer",name:"Quantile discretizer"},{key:"Splitter",name:"Splitter"}]},{label:"Nubmer of buckets",type:"input",key:"num",placeholder:"number of buckets",relatedInfo:{key:"strategy",value:"QuantileDiscretizer"}},{label:"Splits",type:"array",key:"splits",placeholder:"array of split",items:{type:"number"},relatedInfo:{key:"strategy",value:"Splitter"}},{label:"Key column",type:"input",key:"key",placeholder:"the column used to bucket"},{label:"Out",type:"input",key:"out",placeholder:"output column name",defaultValue:"bucket"}]}]},LogisticRegression:{name:"LogisticRegression",iconClassName:"icondatabase",defaultTemplate:{id:"LogisticRegression",name:"LogisticRegression",skip:!1,comment:"",accept:["feature"],transformer:{className:"LogisticRegression",before:{},process:{train:{algoName:"LR"}},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"train",label:"Logistic regression train config",type:"object",required:!0,properties:[{key:"algoName",label:"Algorithm",type:"select",placeholder:"Select algorithm",defaultValue:"LR",disabled:!0,selectOptions:[{key:"LR",name:"LogisticRegression"},{key:"GBT",name:"GradientBoostingClassifier"},{key:"RF",name:"RandomForestClassifier"}]},{key:"numericDefault",label:"Numeric Default",type:"input",dataType:"number",defaultValue:0,placeholder:"Default value for numeric column when missing"},{key:"categoricalDefault",label:"Categorical Default",type:"input",defaultValue:"",placeholder:"Default value for categorical column when missing"},{key:"elasticNetParam",label:"Elastic net parameter",type:"FixedArrayInput",length:3,defaultValue:[.2,.5,.8],items:{type:"number"}},{key:"regParam",label:"Regression parameter",type:"FixedArrayInput",length:3,defaultValue:[.01,.1,.5],items:{type:"number"}},{key:"maxIter",label:"Max iteration",type:"FixedArrayInput",length:3,defaultValue:[50,100,200],items:{type:"number"}}]},T]},GradientBoostingClassifier:{name:"GradientBoostingClassifier",iconClassName:"icondatabase",defaultTemplate:{id:"GradientBoostingClassifier",name:"GradientBoostingClassifier",skip:!1,comment:"",accept:["feature"],transformer:{className:"GradientBoostingClassifier",before:{},process:{train:{algoName:"GBT"}},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"train",label:"Gradient boosting train config",type:"object",required:!0,properties:[{key:"algoName",label:"Algorithm",type:"select",placeholder:"Select algorithm",defaultValue:"GBT",disabled:!0,selectOptions:[{key:"LR",name:"LogisticRegression"},{key:"GBT",name:"GradientBoostingClassifier"},{key:"RF",name:"RandomForestClassifier"}]},{key:"numericDefault",label:"Numeric Default",type:"input",dataType:"number",placeholder:"Default value for numeric column when missing"},{key:"categoricalDefault",label:"Categorical Default",type:"input",placeholder:"Default value for categorical column when missing"},{key:"maxBins",label:"Max bins",type:"FixedArrayInput",length:3,defaultValue:[16,32,64],items:{type:"number"}},{key:"maxDepth",label:"Max depth",type:"FixedArrayInput",length:3,defaultValue:[3,5,7],items:{type:"number"}},{key:"maxIter",label:"Max iteration",type:"FixedArrayInput",length:3,defaultValue:[50,100,200],items:{type:"number"}}]},T]},RandomForestClassifier:{name:"RandomForestClassifier",iconClassName:"icondatabase",defaultTemplate:{id:"RandomForestClassifier",name:"RandomForestClassifier",skip:!1,comment:"",accept:["feature"],transformer:{className:"RandomForestClassifier",before:{},process:{train:{algoName:"RF"}},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"train",label:"Random forest classifier train config",type:"object",required:!0,properties:[{key:"algoName",label:"Algorithm",type:"select",placeholder:"Select algorithm",defaultValue:"RF",disabled:!0,selectOptions:[{key:"LR",name:"LogisticRegression"},{key:"GBT",name:"GradientBoostingClassifier"},{key:"RF",name:"RandomForestClassifier"}]},{key:"numericDefault",label:"Numeric Default",type:"input",dataType:"number",placeholder:"Default value for numeric column when missing"},{key:"categoricalDefault",label:"Categorical Default",type:"input",placeholder:"Default value for categorical column when missing"},{key:"maxBins",label:"Max bins",type:"FixedArrayInput",length:3,defaultValue:[16,32,64],items:{type:"number"}},{key:"maxDepth",label:"Max depth",type:"FixedArrayInput",length:3,defaultValue:[5,7,9],items:{type:"number"}},{key:"maxIter",label:"Max iteration",type:"FixedArrayInput",length:3,defaultValue:[40,80,160],items:{type:"number"}}]},T]},NaFiller:{name:"NaFiller",iconClassName:"icondatabase",defaultTemplate:{id:"fill_defaults_config",name:"NaFiller",skip:!1,comment:"",accept:["feature"],transformer:{className:"NaFiller",before:{},process:{fillDefaults:{}},after:{}},parent:[],persistent:{}},inputFormConfig:[Object(a.a)(Object(a.a)({},I),{},{required:!0})]},Distinct:{name:"Distinct",iconClassName:"icondatabase",defaultTemplate:{id:"distinct_config",name:"Distinct",skip:!1,comment:"",accept:["feature"],transformer:{className:"Distinct",before:{},process:{distinct:[]},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"distinct",label:"Distinct columns",type:"array",required:!0,placeholder:"distinct columns",items:{type:"string"}}]},DynamicColumnSelector:{name:"DynamicColumnSelector",iconClassName:"icondatabase",defaultTemplate:{id:"DynamicColumnSelector",name:"DynamicColumnSelector",skip:!1,comment:"",accept:["feature"],transformer:{className:"DynamicColumnSelector",before:{},process:{dynamicColumnSelector:{},fillDefaults:{}},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"dynamicColumnSelector",label:"Dymanic column selector config",type:"object",required:!0,properties:[{key:"selectorNodeId",type:"input",dataType:"string",label:"Id of the selector node"},{key:"nameField",type:"input",dataType:"string",label:"Name column"},{key:"dataTypeField",type:"input",dataType:"string",label:"Data type column name"},Object(k.a)({key:"keep",type:"array",label:"Name column",items:{type:"string"}},"label","Columns to keep")]},I]},Explode:{name:"Explode",iconClassName:"icondatabase",defaultTemplate:{id:"Explode",name:"Explode",skip:!1,comment:"",accept:["feature"],transformer:{className:"Explode",before:{},process:{explode:{}},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"explode",type:"object",required:!0,label:"Explode",properties:[{key:"col",type:"input",dataType:"string",label:"Column to explode",placeholder:""},{key:"rename",type:"input",dataType:"string",label:"Rename column to",placeholder:""},{key:"pos",type:"select",label:"With position",placeholder:"with position or not",selectOptions:[{key:"true",value:!0,name:"true"},{key:"false",value:!1,name:"false"}]},{key:"outer",type:"select",label:"Outer",placeholder:"Create new row(s) or not",selectOptions:[{key:"true",value:!0,name:"true"},{key:"false",value:!1,name:"false"}]}]}]},FeaturePreselector:{name:"FeaturePreselector",iconClassName:"icondatabase",defaultTemplate:{id:"FeaturePreselector",name:"FeaturePreselector",skip:!1,comment:"",accept:["feature"],transformer:{className:"FeaturePreselector",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"sampleRatio",label:"Sample ratio",type:"input",required:!0,dataType:"number",defaultValue:1},{key:"quantile",label:"Quantile",type:"input",dataType:"number",defaultValue:10},{key:"maxLevel",label:"Max level",type:"input",dataType:"number",defaultValue:20}]},Pivot:{name:"Pivot",iconClassName:"icondatabase",defaultTemplate:{id:"Pivot",name:"Pivot",skip:!1,comment:"",accept:["feature"],transformer:{className:"Pivot",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"pivot",type:"object",required:!0,label:"Pivot config",properties:[{key:"key",type:"input",label:"Pivot key column"},{key:"value",type:"input",label:"Pivot value column"},{key:"top",type:"input",label:"Top",dataType:"number"},{key:"suffix",type:"input",label:"Suffix"}]}]},RandomSample:{name:"RandomSample",iconClassName:"icondatabase",defaultTemplate:{id:"RandomSample",name:"RandomSample",skip:!1,comment:"",accept:["feature"],transformer:{className:"RandomSample",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"sampleRatio",label:"Sample ratio",placeholder:"",type:"input",required:!0,dataType:"number",defaultValue:1}]},Sharding:{name:"Sharding",iconClassName:"icondatabase",defaultTemplate:{id:"Sharding",name:"Sharding",skip:!1,comment:"",accept:["feature"],transformer:{className:"Sharding",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"primaryKey",label:"Primary keys",placeholder:"",type:"array",required:!0,items:{type:"string"}},{key:"shardingMaxColumns",label:"The max count of columns per shard",placeholder:"",type:"input",dataType:"number",defaultValue:50}]},Union:{name:"Union",iconClassName:"icondatabase",defaultTemplate:{id:"Union",name:"Union",skip:!1,comment:"",accept:["feature"],transformer:{className:"Union",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"union",label:"Union type",type:"select",required:!0,placeholder:"select union type",selectOptions:[{key:"unionAll",name:"Union All"},{key:"union",name:"Union"},{key:"unionByName",name:"Union by Name"}]}]},SplitTrainAndTest:{name:"SplitTrainAndTest",iconClassName:"icondatabase",defaultTemplate:{id:"SplitTrainAndTest",name:"SplitTrainAndTest",skip:!1,comment:"",accept:["feature"],transformer:{className:"SplitTrainAndTest",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"trainRatio",type:"input",required:!0,label:"Train ratio",dataType:"number",placeholder:"(0.0, 1.0)",min:0,max:1}]},Merge:{name:"Merge",iconClassName:"icondatabase",defaultTemplate:{id:"Merge",name:"Merge",skip:!1,comment:"",accept:["feature"],transformer:{className:"Merge",before:{},process:{mergeBy:{}},after:{}},parent:[],persistent:{}},inputFormConfig:[{key:"mergeBy",type:"object",required:!0,label:"Merge by config",properties:[{key:"mainNode",type:"input",dataType:"string",label:"Main node id"},{key:"name",type:"input",dataType:"string",label:"Output MBean name",placeholder:"name of the output mbean"},{key:"joinType",type:"select",label:"Join type",selectOptions:[{key:"inner",name:"Inner"},{key:"left",name:"Left"},{key:"right",name:"Right"},{key:"fullouter",name:"Full Outer"}]},{key:"keys",type:"array",items:{type:"string"},label:"using columns",placeholder:"columns used to join"},{key:"exprs",type:"array",items:{type:"ConditionGroup"},label:"Join Expressions"}]}]},MBeanLoader:{name:"MBeanLoader",iconClassName:"icondatabase",defaultTemplate:{id:"MBeanLoader",name:"MBeanLoader",skip:!1,comment:"",accept:["feature"],transformer:{className:"MBeanLoader",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[]},Standardizier:{name:"Standardizier",iconClassName:"icondatabase",defaultTemplate:{id:"Standardizier",name:"Standardizier",skip:!1,comment:"",accept:["feature"],transformer:{className:"Standardizier",before:{},process:{},after:{}},parent:[],persistent:{}},inputFormConfig:[]}},D=n(182),F=n(263),E=n.n(F),A=n(616),q=E()(),R=q.mxObjectCodec,$=q.mxUtils,B=q.mxClient,M=q.mxEvent,L=q.mxGraph,V=(q.mxRubberband,q.mxConstants),z=q.mxPerimeter,U=q.mxEdgeStyle,G=q.mxToolbar,K=q.mxCell,Y=q.mxGeometry,J=q.mxKeyHandler,W=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.call(this,(function(e){}))}return Object(m.a)(n,[{key:"encode",value:function(e){var t=$.createXmlDocument().createElement("Object");for(var n in e)t.setAttribute(n,e[n]);return t}},{key:"decode",value:function(e){return Object.keys(e.cells).map((function(t){var n=e.getCell(t);return void 0!==n.value?n:null})).filter((function(e){return null!==e}))}}]),n}(R),H=function(){function e(t,n,a,i,r,c,s){var o=this;if(Object(b.a)(this,e),!B.isBrowserSupported())return $.error("Browser is not supported!",200,!1);M.disableContextMenu(t),this._graph=new L(t),this._graph.setConnectable(!0),this._graph.setAllowDanglingEdges(!1),this.onDroppedCallback=function(e,t,n){a(e,t,n),i(o.getJsonModel())},this.onConnected=function(e,t){r(e,t),i(o.getJsonModel())},this.onSelectNode=c,this.onCellsRemoved=function(e){var t=e.map((function(e){return e.id}));s(e),i(o.getJsonModel().filter((function(e){return t.indexOf(e.id)<0})))},this._toolbar=new G(n),this._toolbar.enabled=!1,this._initToolbar(),this._initConnectionHandler(),this._initSelectionCellsHandler(),this._initCellsRemovedHandler(),this._initDeleteKeyHandler(),this.labelDisplayOveride(),this.styling()}return Object(m.a)(e,[{key:"labelDisplayOveride",value:function(){this._graph.convertValueToString=function(e){if($.isNode(e.value)&&"object"===e.value.nodeName.toLowerCase())return e.getAttribute("name","");return e.isVertex()&&e.value?e.value.name||e.value:""}}},{key:"styling",value:function(){var e=[];e[V.STYLE_SHAPE]=V.SHAPE_RECTANGLE,e[V.STYLE_PERIMETER]=z.RectanglePerimeter,e[V.STYLE_STROKECOLOR]="gray",e[V.STYLE_ROUNDED]=!0,e[V.STYLE_FILLCOLOR]="#EEEEEE",e[V.STYLE_GRADIENTCOLOR]="white",e[V.STYLE_FONTCOLOR]="black",e[V.STYLE_ALIGN]=V.ALIGN_CENTER,e[V.STYLE_VERTICAL_ALIGN]=V.ALIGN_MIDDLE,e[V.STYLE_FONTSIZE]="12",e[V.STYLE_FONTSTYLE]=1,this._graph.getStylesheet().putDefaultVertexStyle(e),(e=this._graph.getStylesheet().getDefaultEdgeStyle())[V.STYLE_STROKECOLOR]="#0C0C0C",e[V.STYLE_LABEL_BACKGROUNDCOLOR]="white",e[V.STYLE_EDGE]=U.ElbowConnector,e[V.STYLE_ROUNDED]=!0,e[V.STYLE_FONTCOLOR]="black",e[V.STYLE_FONTSIZE]="10",this._graph.getStylesheet().putDefaultEdgeStyle(e)}},{key:"getJsonModel",value:function(){return(new W).decode(this._graph.getModel())}},{key:"render",value:function(e){var t=this;this._graph.getModel().clear();new W;this._vertices={},this._dataModel=e;var n=this._graph.getDefaultParent();this._graph.getModel().beginUpdate();try{[].concat(Object(D.a)(this._dataModel.layouts.filter((function(e){return!e.edge}))),Object(D.a)(this._dataModel.layouts.filter((function(e){return!!e.edge})))).map((function(e){if(e.value)if("object"===typeof e.value||e.vertex){var a=t._graph.insertVertex(n,null,e.value,e.geometry.x,e.geometry.y,e.geometry.width,e.geometry.height);a.setId(e.id),a.setValue(e.value),t._vertices[e.id]=a}else if("Edge"===e.value){var i=t._graph.insertEdge(n,null,"Edge",t._vertices[e.source],t._vertices[e.target]);i.setId(e.id),t._vertices[e.id]=i}}))}catch(a){console.error(a)}finally{this._graph.getModel().endUpdate()}}},{key:"addVertex",value:function(e,t,n,a,i){var r=this,c=new K(null,new Y(0,0,n,a),i);c.setVertex(!0);var s=this._addToolbarItem(this._graph,toolbar,e,c,t,this.onDroppedCallback);s.enabled=!0,this._graph.getSelectionModel().addListener(M.CHANGE,(function(e){var t=r._graph.isSelectionEmpty();$.setOpacity(s,t?100:20),s.enabled=t,t&&r.onSelectNode(null)}))}},{key:"_initToolbar",value:function(){var e=this;document.querySelectorAll(".nodes-list-bar__nodes-list--node").forEach((function(t){e.addVertex(t,"editors/images/rounded.gif",100,40,"shape=rounded")}))}},{key:"_addToolbarItem",value:function(e,t,n,a,i,r){return M.addListener(n,"mousedown",(function(e){0==n.enabled&&M.consume(e)})),$.makeDraggable(n,e,(function(e,t,n,i,c){e.stopEditing(!1);var s=e.getModel().cloneCell(a);s.geometry.x=i,s.geometry.y=c;var o=this.element.getAttribute("data-node-name"),l=this.element.getAttribute("data-node-key");s.setValue({name:o}),s.setId(Object(A.a)()),s.setAttribute("type",l),e.addCell(s),e.setSelectionCell(s),r(l,s.id,o)})),n}},{key:"_initConnectionHandler",value:function(){var e=this;this._graph.connectionHandler.addListener(M.CONNECT,(function(t,n){var a=n.getProperty("cell"),i=e._graph.getModel().getTerminal(a,!0),r=e._graph.getModel().getTerminal(a,!1);a.setId(Object(A.a)()),a.setValue("Edge"),e.onConnected(i.id,r.id)}))}},{key:"_initSelectionCellsHandler",value:function(){var e=this;this._graph.selectionCellsHandler.addListener(M.ADD,(function(t,n){var a=t.getHandledSelectionCells()[0];a.isEdge()||e.onSelectNode(a.id)}))}},{key:"_initCellsRemovedHandler",value:function(){var e=this,t=this._graph.cellsRemoved.bind(this._graph);this._graph.cellsRemoved=function(n){e.onCellsRemoved(n),t(n)}}},{key:"_initDeleteKeyHandler",value:function(){var e=this,t=new J(this._graph);t.bindKey(46,(function(t){e._graph.isEnabled()&&e._graph.removeCells()})),t.bindKey(8,(function(t){e._graph.isEnabled()&&e._graph.removeCells()}))}}]),e}();function Q(e){return JSON.stringify(e,(function(e,t){if(("parent"===e||"source"==e||"target"==e)&&null!==t)return t.id;if("value"===e&&null!==t&&t.localName){var n={};return Object.keys(t.attributes).forEach((function(e){var a=t.attributes[e];n[a.nodeName]=a.nodeValue})),n}return t}),4)}n(303);var X,Z,ee,te,ne=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.desc,a=e.type;return Object(i.jsxs)("div",{className:"alert-bar",children:[Object(i.jsxs)("div",{className:"alert-bar__indicator",children:[Object(i.jsx)("div",{className:"alert-bar__indicator--status-bar"}),Object(i.jsx)("div",{className:"alert-bar__icon-block ".concat(a)})]}),Object(i.jsxs)("div",{className:"alert-bar__main",children:[Object(i.jsx)("div",{className:"alert-bar__main--title ".concat(a),children:t}),Object(i.jsx)("div",{className:"alert-bar__main--desc",children:n})]}),Object(i.jsx)("div",{className:"alert-bar__icon-block btn",children:Object(i.jsx)("i",{className:"iconfont iconremove"})})]})}}]),n}(r.Component),ae=(n(304),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.currentProject,n=e.layouts,a=e.editProjectDetail;return Object(i.jsxs)("div",{className:"workflow",children:[Object(i.jsxs)("div",{className:"workflow__header",children:[Object(i.jsx)("div",{className:"workflow__header--left-block",children:Object(i.jsx)("div",{className:"workflow__header--project-name",onClick:function(){return a(!0)},children:t.project&&t.project.name})}),Object(i.jsx)("div",{className:"workflow__header--right-block",children:Object(i.jsx)("div",{className:"workflow__header--btn-group disabled",children:"Train"})})]}),Object(i.jsx)("div",{className:"workflow__alert-bar",children:Object(i.jsx)(ne,{title:"Project created",desc:"To start creating your workflow, drag and drop any of the objects from the workflow toolbox.",type:"succeed"})}),Object(i.jsxs)("div",{className:"workflow__container with-alert",children:[n.length>0?null:Object(i.jsxs)("div",{className:"workflow__container-placeholder",children:[Object(i.jsx)("div",{className:"workflow__container-placeholder--title",children:"Start workflow"}),Object(i.jsx)("div",{className:"workflow__container-placeholder--desc",children:"Drag and drop the nodes from the toolbox and start your predictive pipleine"})]}),Object(i.jsx)("div",{id:"workflow-canvas",className:"workflow__container--canvas"}),Object(i.jsxs)("div",{className:"workflow__container--toolbar",children:[Object(i.jsx)("div",{className:"workflow__container--toolbar-item",children:Object(i.jsx)("i",{className:"iconfont iconzoomout"})}),Object(i.jsx)("div",{className:"workflow__container--toolbar-item",children:Object(i.jsx)("i",{className:"iconfont iconzoomin"})}),Object(i.jsx)("div",{className:"workflow__container--toolbar-item",onClick:this.props.showModal,children:Object(i.jsx)("i",{className:"iconfont iconupload"})})]})]})]})}}]),n}(r.Component)),ie=n(42),re=n.n(ie),ce=n(38),se=n(61),oe=(n(305),function(e){var t=Object(r.useState)(e.nodes),n=Object(ce.a)(t,2),a=n[0],c=n[1],s=Object(r.useRef)(!0);Object(r.useEffect)((function(){s.current?s.current=!1:window[e.graphxUUID]._initToolbar()}),[a]);return Object(i.jsxs)("div",{className:"nodes-list-bar ".concat(e.isShowing?"":"hidden"),children:[Object(i.jsx)("div",{className:"nodes-list-bar__header",children:"Add node"}),Object(i.jsxs)("div",{className:"nodes-list-bar__nodes-list",children:[Object(i.jsx)("div",{className:"nodes-list-bar__nodes-list--title",children:"Toolbox"}),Object(i.jsx)("div",{className:"nodes-list-bar__nodes-list--desc",children:"To start creating your worklow, drag and drop objects from box below"}),Object(i.jsx)("div",{className:"nodes-list-bar__nodes-list--search",children:Object(i.jsx)(re.a,{placeholder:"Search node",onChange:function(e){var t=e.target.value;if(t){var n=Object(se.omitBy)(P,(function(e){return!e.name.toLowerCase().includes(t)}));c(n)}else c(P)}})}),Object(i.jsx)("div",{id:"workflow-toolbar",className:"nodes-list-bar__nodes-list--nodes-block",children:Object.keys(a).map((function(e){return Object(i.jsxs)("div",{className:"nodes-list-bar__nodes-list--node","data-node-key":e,"data-node-name":a[e].name,children:[Object(i.jsx)("i",{className:"iconfont ".concat(a[e].iconClassName)}),Object(i.jsxs)("div",{className:"nodes-list-bar__nodes-list--node-info",children:[Object(i.jsx)("div",{className:"nodes-list-bar__nodes-list--node-info-title",children:a[e].name}),Object(i.jsx)("div",{className:"nodes-list-bar__nodes-list--node-info-desc",children:a[e].description})]})]},a[e].name)}))})]})]})}),le=n(33),de=n.n(le),ue=(n(373),de.a.Option),pe=Object(l.c)((Z=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),Object(_.a)(Object(N.a)(e),"isCollapsed",ee,Object(N.a)(e)),Object(_.a)(Object(N.a)(e),"toggleCollapse",te,Object(N.a)(e)),Object(k.a)(Object(N.a)(e),"changeSetting",(function(t){return function(n){"skip"===t||"persistent"===t?e.props.updateNodeDetailSetting(t,n.target.checked):"accept"===t&&e.props.updateNodeDetailSetting(t,n)}})),Object(k.a)(Object(N.a)(e),"_renderFeatureSetOptions",(function(e){return e.map((function(e,t){return Object(i.jsx)(ue,{value:e.id,children:e.name},t)}))})),Object(w.makeObservable)(Object(N.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.node;return Object(i.jsxs)("div",{className:"node-details-panel ".concat(this.isCollapsed?"collapsed":""),children:[Object(i.jsxs)("div",{className:"node-details-panel__header",children:[Object(i.jsx)("div",{className:"node-details-panel__header--node-icon",children:Object(i.jsx)("i",{className:"iconfont icondatabase"})}),Object(i.jsxs)("div",{className:"node-details-panel__header--node-info",children:[Object(i.jsx)("div",{className:"node-details-panel__header--node-name",children:e.name}),Object(i.jsx)("div",{className:"node-details-panel__header--node-type",children:e.transformer.class})]})]}),Object(i.jsxs)("div",{className:"node-details-panel__breif-info",children:[Object(i.jsxs)("div",{className:"node-details-panel__parent-info",children:[Object(i.jsx)("span",{className:"node-details-panel__parent-info--label",children:"Parent:"}),Object(i.jsx)("span",{className:"node-details-panel__parent-info--parents",children:(e.parent||[]).join(", ")})]}),Object(i.jsx)("div",{className:"node-details-panel__desc",children:e.comment}),Object(i.jsx)("div",{className:"node-details-panel__running-btn",children:"Run this node"}),Object(i.jsxs)("div",{className:"node-details-panel__check-box",children:[Object(i.jsx)("input",{type:"checkbox",id:"skip",checked:e.skip,onChange:this.changeSetting("skip")}),Object(i.jsx)("label",{htmlFor:"skip",children:"Skip this node from running"})]}),Object(i.jsxs)("div",{className:"node-details-panel__check-box",children:[Object(i.jsx)("input",{type:"checkbox",id:"persistent",checked:e.persistent,onChange:this.changeSetting("persistent")}),Object(i.jsx)("label",{htmlFor:"persistent",children:"Persistent"})]}),Object(i.jsxs)("div",{className:"node-details-panel__accept",children:[Object(i.jsx)("div",{children:"Accept MBean types"}),Object(i.jsx)(de.a,{className:"accept-input",mode:"tags",value:e.accept,onChange:this.changeSetting("accept")})]}),"MBeanLoader"===e.transformer.className?Object(i.jsxs)("div",{className:"node-details-panel__mbean",children:[Object(i.jsx)("div",{children:"MBean"}),Object(i.jsx)(de.a,{className:"mbean-select",placeholder:"select a feature set",children:this._renderFeatureSetOptions([{id:"1",name:"events"},{id:"2",name:"user_props"}])})]}):null]})]})}}]),n}(r.Component),ee=Object(C.a)(Z.prototype,"isCollapsed",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),te=Object(C.a)(Z.prototype,"toggleCollapse",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isCollapsed=!e.isCollapsed}}}),X=Z))||X,be=function(e,t,n,i){return n?e[t]?Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},t,Object(a.a)(Object(a.a)({},e[t]),{},Object(k.a)({},n,i)))):Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},t,Object(k.a)({},n,i))):Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},t,i))},me=function(e,t,n){var a=e[t];if("object"===typeof a&&null!==a)return a[n]},je=function(e){return e.startsWith("$")?e.split("$")[1]:e},fe=function(){function e(t,n){Object(b.a)(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return Object(m.a)(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),he=n(623),ge=n(622),Oe=function(e){var t=e.groupKey,n=e.group,a=e.property,c=e.onValueChange,s=e.value,o=Object(r.useState)(n&&!n.required),l=Object(ce.a)(o,2),d=l[0],u=l[1];return a&&t?Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:a.label}),Object(i.jsxs)("div",{className:"setting-input-block",children:[Object(i.jsx)("input",{className:"setting-input",type:a.dataType,min:a.min,max:a.max,placeholder:a.placeholder,onChange:c(t,a.key),value:s,defaultValue:a.defaultValue}),Object(i.jsx)("i",{className:"edit-icon iconfont iconpencil"})]})]}):Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsxs)("div",{className:"setting-label",children:[Object(i.jsx)("div",{className:"setting-label__caption",children:n.label}),Object(i.jsx)("div",{className:"setting-label__toggle",onClick:function(){u(!d)},children:d?Object(i.jsx)(he.a,{}):Object(i.jsx)(ge.a,{})})]}),d?null:Object(i.jsxs)("div",{className:"setting-input-block",children:[Object(i.jsx)("input",{className:"setting-input",type:n.dataType,min:n.min,max:n.max,placeholder:n.placeholder,value:s,onChange:c(n.key),defaultValue:n.defaultValue}),Object(i.jsx)("i",{className:"edit-icon iconfont iconpencil"})]})]})},ye=function(e){var t=e.group,n=e.property,a=e.onValueChange,c=e.value,s=Object(r.useState)(t&&!t.required),o=Object(ce.a)(s,2),l=o[0],d=o[1];return n?Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:n.label}),Object(i.jsx)("div",{className:"setting-input-block",children:Object(i.jsx)(de.a,{mode:"tags",style:{width:"100%"},placeholder:n.placeholder,value:c,onChange:a(t.key,n.key)})})]}):Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsxs)("div",{className:"setting-label",children:[Object(i.jsx)("div",{className:"setting-label__caption",children:t.label}),Object(i.jsx)("div",{className:"setting-label__toggle",onClick:function(){d(!l)},children:l?Object(i.jsx)(he.a,{}):Object(i.jsx)(ge.a,{})})]}),l?null:Object(i.jsx)("div",{className:"setting-input-block",children:Object(i.jsx)(de.a,{mode:"tags",style:{width:"100%"},placeholder:t.placeholder,value:c,onChange:a(t.key)})})]})},ve=n(39),xe=n.n(ve),_e=n(18),Ne=n.n(_e),ke=function(e){var t=e.groupKey,n=e.property,a=e.onValueChange,c=e.node,s=e.group,o=Object(r.useState)(s&&!s.required),l=Object(ce.a)(o,2),d=l[0],u=l[1],p=function(t,n){var a=[];return t.selectOptions?(a=t.selectOptions).map((function(e){return Object(i.jsx)(Ne.a.Item,{value:e.value,children:e.name},e.key)})):(t.optionsSetting&&t.optionsSetting.readFromNodeAttr&&(a=n[t.optionsSetting.readFromNodeAttr],t.optionsSetting.transform&&(a=a.map((function(n){return e[t.optionsSetting.transform](n)})))),a.map((function(e,n){return Object(i.jsx)(Ne.a.Item,{children:e[t.optionsSetting.displayAttr]},e[t.optionsSetting.keyAttr])})))};if(s){var b=Object(i.jsx)(Ne.a,{onClick:a(s.key),children:p(s,c)}),m=c.transformer.process[s.key]||s.defaultValue,j=m?s.selectOptions.find((function(e){return e.value===m||e.key===m})).name:s.placeholder;return Object(i.jsx)(xe.a,{overlay:b,trigger:["click"],disabled:s.disabled,children:Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsxs)("div",{className:"setting-label",children:[Object(i.jsx)("div",{className:"setting-label__caption",children:s.label}),Object(i.jsx)("div",{className:"setting-label__toggle",onClick:function(){u(!d)},children:d?Object(i.jsx)(he.a,{}):Object(i.jsx)(ge.a,{})})]}),d?null:Object(i.jsxs)("div",{className:"setting-input-block",children:[Object(i.jsx)("div",{className:"setting-input select ".concat(c.transformer.process[s.key]?"":"empty"),children:j}),Object(i.jsx)("i",{className:"edit-icon iconfont iconvector-down"})]})]})})}var f=Object(i.jsx)(Ne.a,{onClick:a(t,n.key),children:p(n,c)}),h=c.transformer.process[t][n.key]||n.defaultValue,g=h?n.selectOptions.find((function(e){return e.value===h||e.key===h})).name:n.placeholder;return Object(i.jsx)(xe.a,{overlay:f,trigger:["click"],disabled:n.disabled,children:Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:n.label}),Object(i.jsxs)("div",{className:"setting-input-block",children:[Object(i.jsx)("div",{className:"setting-input select ".concat(c.transformer.process[t]?"":"empty"),children:g}),Object(i.jsx)("i",{className:"edit-icon iconfont iconvector-down"})]})]})})},Ce=de.a.Option,we=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(k.a)(Object(N.a)(e),"_generateSelectOptions",(function(e){return e.selectOptions.map((function(e,t){return Object(i.jsx)(Ce,{value:e.key,children:e.name},t)}))})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.groupKey,a=e.property,r=e.onValueChange;return Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:a.label}),Object(i.jsx)("div",{className:"setting-input-block",children:Object(i.jsx)(de.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:a.placeholder,value:t,onChange:r(n,a.key),children:this._generateSelectOptions(a)})})]})}}]),n}(c.a.Component),Se=n(75),Te=n(621),Ie=n(620),Pe=n(49),De=n.n(Pe),Fe=n(65),Ee=n.n(Fe),Ae=(n(217),re.a.Group),qe=de.a.Option,Re=[{name:"count",label:"Count"},{name:"sum",label:"Sum"},{name:"min",label:"Min"},{name:"max",label:"Max"},{name:"avg",label:"Avg"},{name:"mean",label:"Mean"},{name:"decay",label:"Decay"},{name:"unique",label:"Unique"},{name:"entropy",label:"Entropy"},{name:"frequency",label:"Frequency"},{name:"topValues",label:"Top values"},{name:"topCounts",label:"Top counts"},{name:"topPercents",label:"Top percents"},{name:"bottomValues",label:"Bottom values"},{name:"bottomCounts",label:"Bottom counts"},{name:"bottomPercents",label:"Bottom percents"}],$e=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(b.a)(this,n),r=t.call(this,e),Object(k.a)(Object(N.a)(r),"handleFunctionNameChange",(function(e){r.setState(Object(a.a)(Object(a.a)({},r.state),{},{name:e}))})),Object(k.a)(Object(N.a)(r),"handleColumsChange",(function(e){r.setState(Object(a.a)(Object(a.a)({},r.state),{},{columns:e}))})),Object(k.a)(Object(N.a)(r),"handleDecayIntervalColumnChange",(function(e){r.setState(Object(a.a)(Object(a.a)({},r.state),{},{params:Object(a.a)(Object(a.a)({},r.state.params),{},{decayIntervalColumn:e.target.value})}))})),Object(k.a)(Object(N.a)(r),"handleDecayRatioChange",(function(e){r.setState(Object(a.a)(Object(a.a)({},r.state),{},{params:Object(a.a)(Object(a.a)({},r.state.params),{},{decayRatio:e.target.value})}))})),Object(k.a)(Object(N.a)(r),"handleLimitChange",(function(e){r.setState(Object(Se.a)((function(t){t.params.limit=e.target.value})))})),Object(k.a)(Object(N.a)(r),"handleConfirm",(function(){r.props.onConfirm(r.state)})),Object(k.a)(Object(N.a)(r),"confirmAndResetInput",(function(){var e=Object.assign({},r.state);r.props.onNew(e),r.setState({name:void 0,columns:[],params:{}})})),Object(k.a)(Object(N.a)(r),"_generateParamsSection",(function(){var e=null;switch(r.state.name){case"decay":e=Object(i.jsx)("div",{className:"aggregate-function-input__params",children:Object(i.jsxs)(Ae,{className:"params-group",compact:!0,children:[Object(i.jsx)(re.a,{className:"decay-interval-column",placeholder:"Decay interval column",onChange:r.handleDecayIntervalColumnChange}),Object(i.jsx)(re.a,{className:"decay-ratio",type:"number",placeholder:"Decay ratio",onChange:r.handleDecayRatioChange})]})});break;case"topValues":case"topCounts":case"topPercents":case"bottomValues":case"bottomCounts":case"bottomPercents":e=Object(i.jsx)("div",{className:"aggregate-function-input__params",children:Object(i.jsx)(re.a,{type:"number",placeholder:"limit",onChange:r.handleLimitChange})})}return e})),r.state={name:void 0,columns:[],params:{}},r}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.groupKey,e.propery,Re.map((function(e,t){return Object(i.jsx)(qe,{value:e.name,children:e.label},t)}))),n=this._generateParamsSection();return Object(i.jsxs)("div",{className:"aggregate-function-input",children:[Object(i.jsx)("div",{className:"aggregate-function-input__name",children:Object(i.jsx)(de.a,{placeholder:"select an aggreate function",onChange:this.handleFunctionNameChange,value:this.state.name,children:t})}),Object(i.jsx)("div",{className:"aggregate-function-input__columns",children:Object(i.jsx)(de.a,{mode:"tags",className:"aggregate-function-input__columns",placeholder:"select columns",onChange:this.handleColumsChange,value:this.state.columns})}),n,Object(i.jsxs)("div",{className:"aggregate-function-input__actions",children:[Object(i.jsx)(De.a,{className:"cancel-btn",onClick:this.props.onCancel,children:"Cancel"}),Object(i.jsx)(De.a,{className:"confirm-btn",type:"primary",onClick:this.handleConfirm,children:"Add"}),Object(i.jsx)(De.a,{className:"confirm-and-add-btn",type:"primary",onClick:this.confirmAndResetInput,children:"Add another one"})]})]})}}]),n}(r.Component);$e.propTyps={groupKey:Ee.a.string.isRequired,property:Ee.a.object.isRequired,onValueChange:Ee.a.func.isRequired,onCancel:Ee.a.func.isRequired,onConfirm:Ee.a.func.isRequired};var Be,Me,Le,Ve,ze,Ue,Ge,Ke,Ye,Je,We,He,Qe,Xe,Ze,et,tt,nt,at,it,rt,ct,st,ot,lt,dt,ut,pt,bt,mt,jt,ft,ht,gt,Ot,yt=$e,vt=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.func,n=e.onDelete;return Object(i.jsxs)("div",{className:"aggregate-function-item",children:[Object(i.jsxs)("div",{className:"caption",children:[Object(i.jsx)("span",{className:"name",children:t.name}),Object(i.jsxs)("span",{className:"columns",children:["(",t.columns.join(", "),")"]})]}),Object(i.jsx)("div",{className:"actions",children:Object(i.jsx)(Te.a,{onClick:n})}),Object(i.jsx)("div",{className:"params",children:Object(se.map)(t.params,(function(e,t){return Object(i.jsxs)("div",{children:[t,": ",e]},t)}))})]})}}]),n}(r.Component),xt=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),a=t.call(this,e),Object(k.a)(Object(N.a)(a),"handleDelete",(function(e){return function(){var t=Object(Se.a)(a.state,(function(t){t.functions.splice(e,1)}));a._handleValueChange(t.functions),a.setState(t)}})),Object(k.a)(Object(N.a)(a),"showInput",(function(){a.setState(Object(Se.a)((function(e){e.showAggregateFunctionInput=!0})))})),Object(k.a)(Object(N.a)(a),"hideInput",(function(){a.setState(Object(Se.a)((function(e){e.showAggregateFunctionInput=!1})))})),Object(k.a)(Object(N.a)(a),"addFunctionAndCloseInput",(function(e){var t=Object(Se.a)(a.state,(function(t){t.functions.push(e),t.showAggregateFunctionInput=!1}));a._handleValueChange(t.functions),a.setState(t)})),Object(k.a)(Object(N.a)(a),"addFunctionOnly",(function(e){var t=Object(Se.a)(a.state,(function(t){t.functions.push(e)}));a._handleValueChange(t.functions),a.setState(t)})),Object(k.a)(Object(N.a)(a),"_handleValueChange",(function(e){var t=a.props,n=t.groupKey,i=t.property;(0,t.onValueChange)(n,i.key)(e)})),a.state={showAggregateFunctionInput:!0,functions:Object(w.toJS)(e.value)||[]},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.groupKey,a=t.property,r=t.onValueChange;return Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsxs)("div",{className:"setting-label",children:[Object(i.jsx)("span",{children:a.label}),Object(i.jsx)(Ie.a,{className:"plus-icon",onClick:this.showInput})]}),Object(i.jsx)("div",{className:"setting-list",children:this.state.functions.map((function(t,n){return Object(i.jsx)(vt,{func:t,onDelete:e.handleDelete(n)},n)}))}),this.state.showAggregateFunctionInput?Object(i.jsx)("div",{className:"setting-input-block",children:Object(i.jsx)(yt,{groupKey:n,property:a,onCancel:this.hideInput,onConfirm:this.addFunctionAndCloseInput,onNew:this.addFunctionOnly,onValueChange:r})}):null]})}}]),n}(r.Component),_t=(n(401),function(e){var t=e.groupKey,n=e.property,a=e.onValueChange,c=e.value,s=Object(r.useState)(n.defaultValue),o=Object(ce.a)(s,2),l=o[0],d=o[1],u=function(e){return function(i){var r=Object(Se.a)(l,(function(t){t[e]=i.target.value}));d(r),a(t,n.key)(r)}};return Object(i.jsxs)("div",{className:"process-config-panel__setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:n.label}),Object(i.jsx)("div",{className:"setting-input-block fixed-array-input",children:Object(se.range)(0,n.length).map((function(e){return Object(i.jsx)(re.a,{type:n.items.type,value:c?c[e]:void 0,defaultValue:n.defaultValue[e],onChange:u(e)},e)}))})]})}),Nt=[{name:"is equal to",key:"=="},{name:"is not equal to",key:"!="},{name:"is greater than",key:">"},{name:"is greator than or equal to",key:">="},{name:"is less than",key:"<"},{name:"is less than or equal",key:"<="}],kt=n(50),Ct=n.n(kt),wt=(n(402),de.a.Option),St=Ct.a.Item,Tt=function(e){var t=e.columns,n=Ct.a.useForm(),a=Object(ce.a)(n,1)[0];return Object(i.jsxs)(Ct.a,{className:"condition-form",form:a,layout:"vertical",onFinish:function(t){e.onFinish(t)},initialValues:{operator:"=="},children:[Object(i.jsx)(St,{name:"leftColumn",rules:[{required:!0}],children:Object(i.jsx)(de.a,{placeholder:"select a column",children:t.map((function(e,t){return Object(i.jsx)(wt,{value:"$"+e.name,children:e.name},t)}))})}),Object(i.jsx)(St,{name:"operator",rules:[{required:!0}],children:Object(i.jsx)(de.a,{placeholder:"select a operator",children:Nt.map((function(e,t){return Object(i.jsx)(wt,{value:e.key,children:e.name},t)}))})}),Object(i.jsx)(St,{name:"rightColumn",rules:[{requried:!0}],children:Object(i.jsx)(de.a,{name:"rightColumn",placeholder:"select a column",children:t.map((function(e,t){return Object(i.jsx)(wt,{value:"$"+e.name,children:e.name},t)}))})}),Object(i.jsxs)("div",{className:"condition-form__button-group",children:[Object(i.jsx)(De.a,{className:"cancel-button",onClick:e.onCancel,children:"Cancel"}),Object(i.jsx)(De.a,{className:"confirm-button",type:"primary",htmlType:"submit",children:"Add"})]})]})},It=(n(490),de.a.Option,[{name:"uuid",type:"string"},{name:"credit",type:"number"},{name:"lastLogin",type:"timestamp"}]),Pt=function(e){var t=Nt.find((function(t){return t.key===e.conditionGroup[1]}));return Object(i.jsxs)("div",{className:"condition-group-item",children:[Object(i.jsxs)("div",{className:"condtion-group-item__expr",children:[je(e.conditionGroup[0])," ",t.name," ",je(e.conditionGroup[2])]}),Object(i.jsx)("div",{className:"condition-group-item__delete-icon",onClick:e.onDelete,children:Object(i.jsx)(Te.a,{})})]})},Dt=function(e){var t=e.property,n=e.groupKey,a=e.value,c=Object(r.useState)(!1),s=Object(ce.a)(c,2),o=(s[0],s[1],Object(r.useState)(!1)),l=Object(ce.a)(o,2),d=l[0],u=l[1],p=function(i){return function(){a[0][1].splice(i,1),e.onValueChange(n,t.key)(a)}};return Object(i.jsxs)("div",{className:"config-group__setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:Object(i.jsx)("span",{children:t.label})}),Object(i.jsxs)("div",{className:"setting-input-block condition-group-input",children:[Object(i.jsx)("div",{className:"condition-group-list",children:a?a[0][1].map((function(e,t){return Object(i.jsx)(Pt,{conditionGroup:e,onDelete:p(t)},t)})):null}),Object(i.jsx)(De.a,{className:"condition-group-input__add-condition-btn",icon:Object(i.jsx)(Ie.a,{}),onClick:function(){u(!d)},children:"Add condition"}),d?Object(i.jsx)(Tt,{columns:It,onCancel:function(){u(!1)},onFinish:function(i){a?(a[0][1].push([i.leftColumn,i.operator,i.rightColumn]),e.onValueChange(n,t.key)(a)):e.onValueChange(n,t.key)([["and",[[i.leftColumn,i.operator,i.rightColumn]]]]),u(!1)}}):null]})]})},Ft=function(e){var t=e.group,n=e.node,a=e.onValueChange,c=Object(r.useState)(!t.required),s=Object(ce.a)(c,2),o=s[0],l=s[1];if(o)return Object(i.jsx)("div",{className:"object-group",children:Object(i.jsxs)("div",{className:"object-group__heading",children:[Object(i.jsx)("div",{className:"object-group__heading__caption",children:t.label.toUpperCase()}),Object(i.jsx)("div",{className:"object-group__heading__toggle",children:Object(i.jsx)(he.a,{onClick:function(){l(!1)}})})]})});var d=t.properties.map((function(e,r){if(e.relatedInfo&&n.transformer.process[t.key][e.relatedInfo.key]!=e.relatedInfo.value)return null;if("input"==e.type)return Object(i.jsx)(Oe,{groupKey:t.key,property:e,value:me(n.transformer.process,t.key,e.key),onValueChange:a("input")},r);if("select"==e.type)return Object(i.jsx)(ke,{groupKey:t.key,property:e,onValueChange:a("select"),node:n},r);if("multiselect"==e.type)return Object(i.jsx)(we,{groupKey:t.key,property:e,value:me(n.transformer.process,t.key,e.key),onValueChange:a("multiselect")},r);if("array"===e.type){if("AggregateFunction"===e.items.type)return Object(i.jsx)(xt,{groupKey:t.key,property:e,value:me(n.transformer.process,t.key,e.key),onValueChange:a("AggregateFunction")});if("number"===e.items.type||"string"===e.items.type)return Object(i.jsx)(ye,{group:t,property:e,value:me(n.transformer.process,t.key,e.key),onValueChange:a("arrayinput")});if("ConditionGroup"===e.items.type)return Object(i.jsx)(Dt,{groupKey:t.key,property:e,value:me(n.transformer.process,t.key,e.key),onValueChange:a(e.items.type)})}return"FixedArrayInput"==e.type?Object(i.jsx)(_t,{groupKey:t.key,property:e,value:me(n.transformer.process,t.key,e.key),onValueChange:a("FixedArrayInput")}):void 0}));return Object(i.jsxs)("div",{className:"object-group",children:[Object(i.jsxs)("div",{className:"object-group__heading",children:[Object(i.jsx)("div",{className:"object-group__heading__caption",children:t.label.toUpperCase()}),Object(i.jsx)("div",{className:"object-group__heading__toggle",children:Object(i.jsx)(ge.a,{onClick:function(){l(!0)}})})]}),d]})},Et=(n(491),function(e){var t=e.group,n=e.node,a=e.onValueChange,r=null;switch(t.type){case"input":r=Object(i.jsx)(Oe,{group:t,value:n.transformer.process[t.key],onValueChange:a("input")});break;case"select":r=Object(i.jsx)(ke,{group:t,onValueChange:a("select"),node:n});break;case"array":"string"===t.items.type&&(r=Object(i.jsx)(ye,{group:t,value:n.transformer.process[t.key],onValueChange:a("arrayinput")}));break;case"object":r=Object(i.jsx)(Ft,{group:t,node:n,onValueChange:a})}return Object(i.jsx)("div",{className:"config-group",children:r})}),At=(n(492),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(k.a)(Object(N.a)(e),"onValueChange",(function(t){return function(n,a){return function(i){var r=e.props.node,c={};switch(t){case"select":c=be(r.transformer.process,n,a,void 0!==i.item.props.value?i.item.props.value:i.key);break;case"input":c=be(r.transformer.process,n,a,i.target.value);break;case"multiselect":case"AggregateFunction":case"ConditionGroup":case"arrayinput":case"FixedArrayInput":c=be(r.transformer.process,n,a,i)}e.props.updateNodeTransformerSetting("process",c)}}})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.node,a=t.formConfig;return Object(i.jsxs)("div",{className:"process-config-panel",children:[Object(i.jsx)("div",{className:"process-config-panel__desc",children:"Below are the node process configurations"}),a.map((function(t,a){return Object(i.jsx)(Et,{group:t,node:n,onValueChange:e.onValueChange},a)}))]})}}]),n}(r.Component)),qt=n(66),Rt=n.n(qt),$t=(n(493),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(k.a)(Object(N.a)(e),"added",(function(){var t={table:e.refs.table.value,column:e.refs.column.value,formula:e.refs.formula.value};e.props.added("add_column")(t)})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.cancel,n=e.config;return Object(i.jsxs)("div",{className:"add-new-column-setting",children:[Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Table"}),Object(i.jsx)("input",{className:"setting-input",ref:"table",defaultValue:n.table})]}),Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Column name"}),Object(i.jsx)("input",{className:"setting-input",ref:"column",defaultValue:n.column})]}),Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Column formula"}),Object(i.jsx)("input",{className:"setting-input",ref:"formula",defaultValue:n.formula})]}),Object(i.jsxs)("div",{className:"setting-btns",children:[Object(i.jsx)("div",{className:"setting-btns__cancel",onClick:t,children:"Cancel"}),Object(i.jsx)("div",{className:"setting-btns__add",onClick:this.added,children:"Add"})]})]})}}]),n}(r.Component)),Bt=(n(494),{equal_to:"Equal to",contains:"Contains",not_in:"Not in",is_null:"Is null",is_not_null:"Is not null"}),Mt=Object(l.c)((Me=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),Object(_.a)(Object(N.a)(e),"currentConfig",Le,Object(N.a)(e)),Object(k.a)(Object(N.a)(e),"_renderOperations",(function(){return Object(i.jsxs)(Ne.a,{onClick:e.selectOperation,children:[Object(i.jsx)(Ne.a.Item,{children:Bt.equal_to},"equal_to"),Object(i.jsx)(Ne.a.Item,{children:Bt.contains},"contains"),Object(i.jsx)(Ne.a.Item,{children:Bt.not_in},"not_in"),Object(i.jsx)(Ne.a.Item,{children:Bt.is_null},"is_null"),Object(i.jsx)(Ne.a.Item,{children:Bt.is_not_null},"is_not_null")]})})),Object(k.a)(Object(N.a)(e),"selectOperation",(function(t){e.currentConfig.operator=t.key})),Object(k.a)(Object(N.a)(e),"added",(function(){var t=-1!=["is_null","is_not_null"].indexOf(e.currentConfig.operator)?void 0:e.refs.filterValue.value,n=Object(a.a)(Object(a.a)({},e.currentConfig),{},{table:e.refs.table.value,column:e.refs.column.value,filterValue:t});e.props.added("filter_column")(n)})),Object(w.makeObservable)(Object(N.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.cancel,n=e.config;return Object(i.jsxs)("div",{className:"filter-column-setting",children:[Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Table"}),Object(i.jsx)("input",{className:"setting-input",placeholder:"Select table",ref:"table",defaultValue:n.table})]}),Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Column"}),Object(i.jsx)("input",{className:"setting-input with-bottom-margin",placeholder:"Set column",ref:"column",defaultValue:n.column}),Object(i.jsx)(xe.a,{overlay:this._renderOperations(),trigger:["click"],children:Object(i.jsxs)("div",{className:"setting-select with-bottom-margin",children:[Object(i.jsx)("span",{children:n.operator||this.currentOperator}),Object(i.jsx)("i",{className:"iconfont iconvector-down"})]})}),-1!=["is_null","is_not_null"].indexOf(this.currentConfig.operator)?null:Object(i.jsx)("input",{className:"setting-input",placeholder:"Value",ref:"filterValue",defaultValue:n.filterValue})]}),Object(i.jsxs)("div",{className:"setting-btns",children:[Object(i.jsx)("div",{className:"setting-btns__cancel",onClick:t,children:"Cancel"}),Object(i.jsx)("div",{className:"setting-btns__add",onClick:this.added,children:"Add"})]})]})}},{key:"currentOperator",get:function(){return Bt[this.currentConfig.operator]}}]),n}(r.Component),Le=Object(C.a)(Me.prototype,"currentConfig",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{operator:"equal_to"}}}),Object(C.a)(Me.prototype,"currentOperator",[w.computed],Object.getOwnPropertyDescriptor(Me.prototype,"currentOperator"),Me.prototype),Be=Me))||Be,Lt=(n(495),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(k.a)(Object(N.a)(e),"added",(function(){var t={table:e.refs.table.value,column:e.refs.column.value,newName:e.refs.newName.value};e.props.added("rename_column")(t)})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.cancel,n=e.config;return Object(i.jsxs)("div",{className:"rename-column-setting",children:[Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Table"}),Object(i.jsx)("input",{className:"setting-input",placeholder:"Select table",ref:"table",defaultValue:n.table})]}),Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Column"}),Object(i.jsx)("input",{className:"setting-input with-bottom-margin",placeholder:"Select column",ref:"column",defaultValue:n.column}),Object(i.jsx)("input",{className:"setting-input",placeholder:"New name",ref:"newName",defaultValue:n.newName})]}),Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("input",{className:"setting-check-box",type:"checkbox"}),Object(i.jsx)("label",{className:"setting-check-box-label",children:"continue adding"})]}),Object(i.jsxs)("div",{className:"setting-btns",children:[Object(i.jsx)("div",{className:"setting-btns__cancel",onClick:t,children:"Cancel"}),Object(i.jsx)("div",{className:"setting-btns__add",onClick:this.added,children:"Add"})]})]})}}]),n}(r.Component)),Vt=(n(496),Object(l.c)((ze=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),Object(_.a)(Object(N.a)(e),"currentConfig",Ue,Object(N.a)(e)),Object(k.a)(Object(N.a)(e),"added",(function(){var t=Object(a.a)(Object(a.a)({},e.currentConfig),{},{table:e.refs.table.value,column:e.refs.column.value});e.props.added("".concat(e.currentConfig.type,"_column"))(t)})),Object(w.makeObservable)(Object(N.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.cancel,n=e.config;return Object(i.jsxs)("div",{className:"keey-or-drop-column-setting",children:[Object(i.jsxs)("div",{className:"setting-radios",children:[Object(i.jsxs)("div",{className:"setting-radios__radio-btn",children:[Object(i.jsx)("input",{id:"keep",type:"radio",name:"keep_or_drop",value:"keep",defaultChecked:"keep"==n.type}),Object(i.jsx)("label",{htmlFor:"keep",children:"Keep"})]}),Object(i.jsxs)("div",{className:"setting-radios__radio-btn",children:[Object(i.jsx)("input",{id:"drop",type:"radio",name:"keep_or_drop",value:"drop",defaultChecked:"drop"==n.type}),Object(i.jsx)("label",{htmlFor:"drop",children:"Drop"})]})]}),Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Table"}),Object(i.jsx)("input",{className:"setting-input",placeholder:"Select table",ref:"table",defaultValue:n.table})]}),Object(i.jsxs)("div",{className:"setting-block",children:[Object(i.jsx)("div",{className:"setting-label",children:"Column"}),Object(i.jsx)("input",{className:"setting-input",placeholder:"Set column",ref:"column",defaultValue:n.column})]}),Object(i.jsxs)("div",{className:"setting-btns",children:[Object(i.jsx)("div",{className:"setting-btns__cancel",onClick:t,children:"Cancel"}),Object(i.jsx)("div",{className:"setting-btns__add",onClick:this.added,children:"Add"})]})]})}}]),n}(r.Component),Ue=Object(C.a)(ze.prototype,"currentConfig",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{type:"keep"}}}),Ve=ze))||Ve),zt=(n(497),{add_column:"Add new column",filter_column:"Filter column",rename_column:"Rename column",keep_or_drop_column:"Keep/Drop column"}),Ut=Object(l.c)((Ke=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),Object(_.a)(Object(N.a)(e),"currentSettingPanel",Ye,Object(N.a)(e)),Object(k.a)(Object(N.a)(e),"_renderSettingPanels",(function(){var t=e.props,n=t.cancel,a=t.added,r=t.config,c=t.configType;switch("keep_column"!=c&&"drop_column"!=c||(c="keep_or_drop_column"),c||e.currentSettingPanel){case"add_column":return Object(i.jsx)($t,{config:r,cancel:n,added:a});case"filter_column":return Object(i.jsx)(Mt,{config:r,cancel:n,added:a});case"rename_column":return Object(i.jsx)(Lt,{config:r,cancel:n,added:a});case"keep_or_drop_column":return Object(i.jsx)(Vt,{config:r,cancel:n,added:a})}})),Object(k.a)(Object(N.a)(e),"_renderMenu",(function(){return Object(i.jsxs)(Ne.a,{onClick:e.selectConfigPanels,children:[Object(i.jsx)(Ne.a.Item,{children:zt.add_column},"add_column"),Object(i.jsx)(Ne.a.Item,{children:zt.filter_column},"filter_column"),Object(i.jsx)(Ne.a.Item,{children:zt.rename_column},"rename_column"),Object(i.jsx)(Ne.a.Item,{children:zt.keep_or_drop_column},"keep_or_drop_column")]})})),Object(k.a)(Object(N.a)(e),"selectConfigPanels",(function(t){e.currentSettingPanel=t.key})),Object(w.makeObservable)(Object(N.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"config-setting-panel",children:[Object(i.jsx)(xe.a,{overlay:this._renderMenu(),trigger:["click"],children:Object(i.jsxs)("div",{className:"config-setting-panel__switch-tab-bar",children:[Object(i.jsx)("span",{children:this.currentSettingPanelName}),Object(i.jsx)("i",{className:"iconfont iconvector-down"})]})}),Object(i.jsx)("div",{className:"config-setting-panel__panel-body",children:this._renderSettingPanels()})]})}},{key:"currentSettingPanelName",get:function(){var e=this.props.configType;return"keep_column"!=e&&"drop_column"!=e||(e="keep_or_drop_column"),zt[e||this.currentSettingPanel]}}]),n}(r.Component),Ye=Object(C.a)(Ke.prototype,"currentSettingPanel",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"add_column"}}),Object(C.a)(Ke.prototype,"currentSettingPanelName",[w.computed],Object.getOwnPropertyDescriptor(Ke.prototype,"currentSettingPanelName"),Ke.prototype),Ge=Ke))||Ge,Gt=(n(498),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(k.a)(Object(N.a)(e),"_renderActions",(function(t,n){return Object(i.jsxs)(Ne.a,{onClick:e.doAction(t,n),children:[Object(i.jsx)(Ne.a.Item,{icon:Object(i.jsx)("i",{className:"iconfont iconpencil"}),children:"Edit"},"edit"),Object(i.jsx)(Ne.a.Item,{icon:Object(i.jsx)("i",{className:"iconfont iconclipboard-checked"}),children:"Delete"},"delete")]})})),Object(k.a)(Object(N.a)(e),"doAction",(function(t,n){return function(a){switch(a.key){case"delete":e.props.removeRule(t,n);break;case"edit":e.props.setCurrentConfigInfo(t,n)}}})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.configs;return Object(i.jsx)("div",{className:"saved-configs-list",children:Object.keys(t).map((function(n){return t[n].map((function(t,a){return Object(i.jsxs)("div",{className:"saved-configs-list__config-block",children:[Object(i.jsxs)("div",{className:"saved-configs-list__config-block--info-block",children:[Object(i.jsx)("div",{className:"saved-configs-list__config-block--title",children:n}),Object(i.jsx)("div",{className:"saved-configs-list__config-block--desc",children:"1 columns"})]}),Object(i.jsx)(xe.a,{overlay:e._renderActions(n,a),trigger:["click"],children:Object(i.jsx)("i",{className:"iconfont iconmore"})})]},"".concat(n,"-").concat(a))}))})).flat()})}}]),n}(r.Component)),Kt=(n(499),Object(l.c)((We=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),Object(_.a)(Object(N.a)(e),"isShowingPanel",He,Object(N.a)(e)),Object(_.a)(Object(N.a)(e),"currentConfigInfo",Qe,Object(N.a)(e)),Object(k.a)(Object(N.a)(e),"openConfigPanel",(function(){e.isShowingPanel=!0})),Object(k.a)(Object(N.a)(e),"closeConfigPanel",(function(){e.isShowingPanel=!1,e.currentConfigInfo=null})),Object(k.a)(Object(N.a)(e),"addedNewRule",(function(t){return function(n){e.isShowingPanel=!1,e.currentConfigInfo=null;var i=Object(a.a)({},e.props.config);i[t]?i[t].push(n):i[t]=[n],e.props.updateNodeTransformerSetting("before",i)}})),Object(k.a)(Object(N.a)(e),"removeRule",(function(t,n){e.isShowingPanel=!1,e.currentConfigInfo=null;var a=Rt()(e.props.config,Object(k.a)({},t,{$splice:[[n,1]]}));e.props.updateNodeTransformerSetting("before",a)})),Object(k.a)(Object(N.a)(e),"setCurrentConfigInfo",(function(t,n){e.currentConfigInfo={type:t,idx:n}})),Object(w.makeObservable)(Object(N.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.config;return Object(i.jsxs)("div",{className:"before-config-panel",children:[Object(i.jsx)("div",{className:"before-config-panel__desc",children:"Below are the operations that are applied on columns, you can rename, add new column, skip, or filter them."}),Object(i.jsx)("div",{className:"before-config-panel__body",children:this.isShowingPanel||this.currentConfigInfo?Object(i.jsx)(Ut,{config:this.currentConfig,configType:this.currentConfigInfo?this.currentConfigInfo.type:null,cancel:this.closeConfigPanel,added:this.addedNewRule}):Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"before-config-panel__add-operation-btn",onClick:this.openConfigPanel}),Object(i.jsx)(Gt,{configs:e,setCurrentConfigInfo:this.setCurrentConfigInfo,removeRule:this.removeRule})]})})]})}},{key:"currentConfig",get:function(){if(!this.currentConfigInfo)return{};var e=this.currentConfigInfo,t=e.type,n=e.idx;return this.props.config[t][n]}}]),n}(r.Component),He=Object(C.a)(We.prototype,"isShowingPanel",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qe=Object(C.a)(We.prototype,"currentConfigInfo",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(C.a)(We.prototype,"currentConfig",[w.computed],Object.getOwnPropertyDescriptor(We.prototype,"currentConfig"),We.prototype),Je=We))||Je),Yt=(n(500),Object(l.c)((Ze=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),Object(_.a)(Object(N.a)(e),"isShowingPanel",et,Object(N.a)(e)),Object(_.a)(Object(N.a)(e),"currentConfigInfo",tt,Object(N.a)(e)),Object(k.a)(Object(N.a)(e),"openConfigPanel",(function(){e.isShowingPanel=!0})),Object(k.a)(Object(N.a)(e),"closeConfigPanel",(function(){e.isShowingPanel=!1,e.currentConfigInfo=null})),Object(k.a)(Object(N.a)(e),"addedNewRule",(function(t){return function(n){e.isShowingPanel=!1,e.currentConfigInfo=null;var i=Object(a.a)({},e.props.config);i[t]?i[t].push(n):i[t]=[n],e.props.updateNodeTransformerSetting("after",i)}})),Object(k.a)(Object(N.a)(e),"removeRule",(function(t,n){e.isShowingPanel=!1,e.currentConfigInfo=null;var a=Rt()(e.props.config,Object(k.a)({},t,{$splice:[[n,1]]}));e.props.updateNodeTransformerSetting("after",a)})),Object(k.a)(Object(N.a)(e),"setCurrentConfigInfo",(function(t,n){e.currentConfigInfo={type:t,idx:n}})),Object(w.makeObservable)(Object(N.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.config;return Object(i.jsxs)("div",{className:"before-config-panel",children:[Object(i.jsx)("div",{className:"before-config-panel__desc",children:"Below are the operations that are applied on columns, you can rename, add new column, skip, or filter them."}),Object(i.jsx)("div",{className:"before-config-panel__body",children:this.isShowingPanel||this.currentConfigInfo?Object(i.jsx)(Ut,{config:this.currentConfig,configType:this.currentConfigInfo?this.currentConfigInfo.type:null,cancel:this.closeConfigPanel,added:this.addedNewRule}):Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)("div",{className:"before-config-panel__add-operation-btn",onClick:this.openConfigPanel}),Object(i.jsx)(Gt,{configs:e,setCurrentConfigInfo:this.setCurrentConfigInfo,removeRule:this.removeRule})]})})]})}},{key:"currentConfig",get:function(){if(!this.currentConfigInfo)return{};var e=this.currentConfigInfo,t=e.type,n=e.idx;return this.props.config[t][n]}}]),n}(r.Component),et=Object(C.a)(Ze.prototype,"isShowingPanel",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=Object(C.a)(Ze.prototype,"currentConfigInfo",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(C.a)(Ze.prototype,"currentConfig",[w.computed],Object.getOwnPropertyDescriptor(Ze.prototype,"currentConfig"),Ze.prototype),Xe=Ze))||Xe),Jt=(n(501),Object(l.c)((at=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),Object(_.a)(Object(N.a)(e),"currentTab",it,Object(N.a)(e)),Object(_.a)(Object(N.a)(e),"switchTab",rt,Object(N.a)(e)),Object(w.makeObservable)(Object(N.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"detail-config-panel",children:[Object(i.jsxs)("div",{className:"detail-config-panel__tabs-bar",children:[Object(i.jsx)("div",{className:"detail-config-panel__tabs-bar--tab ".concat("process"==this.currentTab?"activated":""),onClick:this.switchTab("process"),children:"Process"}),Object(i.jsx)("div",{className:"detail-config-panel__tabs-bar--tab ".concat("before"==this.currentTab?"activated":""),onClick:this.switchTab("before"),children:"Before"}),Object(i.jsx)("div",{className:"detail-config-panel__tabs-bar--tab ".concat("after"==this.currentTab?"activated":""),onClick:this.switchTab("after"),children:"After"})]}),Object(i.jsx)("div",{className:"detail-config-panel__body",children:this.renderPanel})]})}},{key:"renderPanel",get:function(){var e=this.props,t=e.node,n=e.findNodeById,a=e.updateNodeTransformerSetting;switch(this.currentTab){case"process":return Object(i.jsx)(At,{node:t,findNodeById:n,config:t.transformer.process,formConfig:P[t.transformer.className].inputFormConfig,updateNodeTransformerSetting:a});case"before":return Object(i.jsx)(Kt,{config:t.transformer.before,updateNodeTransformerSetting:a});case"after":return Object(i.jsx)(Yt,{config:t.transformer.after,updateNodeTransformerSetting:a})}}}]),n}(r.Component),it=Object(C.a)(at.prototype,"currentTab",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"process"}}),rt=Object(C.a)(at.prototype,"switchTab",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return function(){e.currentTab=t}}}}),Object(C.a)(at.prototype,"renderPanel",[w.computed],Object.getOwnPropertyDescriptor(at.prototype,"renderPanel"),at.prototype),nt=at))||nt),Wt=(n(502),Object(l.c)((st=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),Object(_.a)(Object(N.a)(e),"currentTab",ot,Object(N.a)(e)),Object(_.a)(Object(N.a)(e),"switchTab",lt,Object(N.a)(e)),Object(w.makeObservable)(Object(N.a)(e)),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.findNodeById,a=e.updateNodeTransformerSetting,r=e.updateNodeDetailSetting;return t?Object(i.jsxs)("div",{className:"detail-setting-bar ".concat(t?"":"hidden"),children:[Object(i.jsxs)("div",{className:"detail-setting-bar__header",children:[Object(i.jsx)("div",{className:"detail-setting-bar__header--tab ".concat("detail"==this.currentTab?"activated":""),onClick:this.switchTab("detail"),children:"Node details"}),Object(i.jsx)("div",{className:"detail-setting-bar__header--tab ".concat("config"==this.currentTab?"activated":""),onClick:this.switchTab("config"),children:"Configuration"})]}),Object(i.jsx)("div",{className:"detail-setting-bar__body",children:"detail"==this.currentTab?Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)(pe,{node:t,updateNodeDetailSetting:r})}):Object(i.jsx)(Jt,{node:t,findNodeById:n,updateNodeTransformerSetting:a})})]}):null}}]),n}(r.Component),ot=Object(C.a)(st.prototype,"currentTab",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"detail"}}),lt=Object(C.a)(st.prototype,"switchTab",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return function(){e.currentTab=t}}}}),ct=st))||ct),Ht=(n(503),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"logs-timeline",children:[Object(i.jsxs)("div",{className:"logs-timeline__log-block",children:[Object(i.jsxs)("div",{className:"logs-timeline__log-block--datetime",children:[Object(i.jsx)("div",{className:"logs-timeline__log-block--date",children:"12.01.2021"}),Object(i.jsx)("div",{className:"logs-timeline__log-block--time",children:"12:35"})]}),Object(i.jsx)("div",{className:"logs-timeline__log-block--connector"}),Object(i.jsxs)("div",{className:"logs-timeline__log-block--info-block",children:[Object(i.jsx)("div",{className:"logs-timeline__log-block--header succeed",children:"Run: Success"}),Object(i.jsx)("div",{className:"logs-timeline__log-block--desc-info",children:"by User#"}),Object(i.jsx)("div",{className:"logs-timeline__log-block--desc-info",children:"Time running: 22 m 45s"}),Object(i.jsxs)("div",{className:"logs-timeline__log-block--view-btn",children:[Object(i.jsx)("i",{className:"iconfont iconlog"}),"View log"]})]})]}),Object(i.jsxs)("div",{className:"logs-timeline__log-block",children:[Object(i.jsxs)("div",{className:"logs-timeline__log-block--datetime",children:[Object(i.jsx)("div",{className:"logs-timeline__log-block--date",children:"12.01.2021"}),Object(i.jsx)("div",{className:"logs-timeline__log-block--time",children:"12:35"})]}),Object(i.jsx)("div",{className:"logs-timeline__log-block--connector"}),Object(i.jsxs)("div",{className:"logs-timeline__log-block--info-block",children:[Object(i.jsx)("div",{className:"logs-timeline__log-block--header failed",children:"Run: Failed"}),Object(i.jsx)("div",{className:"logs-timeline__log-block--desc-info",children:"by User#"}),Object(i.jsx)("div",{className:"logs-timeline__log-block--desc-info",children:"Time running: 22 m 45s"}),Object(i.jsxs)("div",{className:"logs-timeline__log-block--view-btn",children:[Object(i.jsx)("i",{className:"iconfont iconlog"}),"View log"]})]})]}),Object(i.jsxs)("div",{className:"logs-timeline__log-block",children:[Object(i.jsxs)("div",{className:"logs-timeline__log-block--datetime",children:[Object(i.jsx)("div",{className:"logs-timeline__log-block--date",children:"12.01.2021"}),Object(i.jsx)("div",{className:"logs-timeline__log-block--time",children:"12:35"})]}),Object(i.jsx)("div",{className:"logs-timeline__log-block--connector"}),Object(i.jsxs)("div",{className:"logs-timeline__log-block--info-block",children:[Object(i.jsx)("div",{className:"logs-timeline__log-block--header",children:"Created"}),Object(i.jsx)("div",{className:"logs-timeline__log-block--desc-info",children:"by User#"})]})]})]})}}]),n}(r.Component)),Qt=(n(504),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c)),Object(k.a)(Object(N.a)(e),"_renderSettingBtns",(function(){return Object(i.jsxs)(Ne.a,{onClick:e._reactSetting,children:[Object(i.jsx)(Ne.a.Item,{children:"Edit"},"edit"),Object(i.jsx)(Ne.a.Item,{children:"Delete"},"delete")]})})),Object(k.a)(Object(N.a)(e),"_reactSetting",(function(t){switch(t.key){case"delete":e.props.delete(e.props.project.id,(function(){e.props.navigateTo("/projects")}));break;case"edit":e.props.editProjectDetail(!1)}})),Object(k.a)(Object(N.a)(e),"updateProject",(function(t){return Object(se.debounce)((function(n){var i=Object(a.a)(Object(a.a)({},e.props.project.project),{},Object(k.a)({},t,n.target.value));e.props.update({id:e.props.project.id,project:i})}),1e3)})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.project;return Object(i.jsxs)("div",{className:"prediction-details-panel",children:[Object(i.jsx)("div",{className:"prediction-details-panel__header",children:"Prediction details"}),Object(i.jsxs)("div",{className:"prediction-details-panel__main",children:[Object(i.jsxs)("div",{className:"prediction-details-panel__form-block",children:[Object(i.jsx)("div",{className:"prediction-details-panel__form-block--label",children:"Prediction name"}),Object(i.jsx)("input",{className:"prediction-details-panel__form-block--form-input",defaultValue:e.project?e.project.name:"",onChange:this.updateProject("name")})]}),Object(i.jsxs)("div",{className:"prediction-details-panel__form-block",children:[Object(i.jsx)("div",{className:"prediction-details-panel__form-block--label",children:"Prediction name"}),Object(i.jsx)("textarea",{className:"prediction-details-panel__form-block--form-textarea",defaultValue:e.project?e.project.description:"",onChange:this.updateProject("description")})]}),Object(i.jsxs)("div",{className:"prediction-details-panel__inline-info",children:[Object(i.jsx)("span",{className:"prediction-details-panel__inline-info--label",children:"Prediction type: "}),Object(i.jsx)("span",{className:"prediction-details-panel__inline-info--value",children:e.project?e.project.projectType:""})]}),Object(i.jsx)(xe.a,{overlay:this._renderSettingBtns(),trigger:["click"],children:Object(i.jsx)("div",{className:"prediction-details-panel__main--setting-btn"})})]}),Object(i.jsx)("div",{className:"detail-setting-bar__body--gap"}),Object(i.jsx)(Ht,{})]})}}]),n}(r.Component)),Xt=(n(505),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(k.a)(Object(N.a)(e),"publishTemplate",(function(){e.props.publishTemplate(),e.props.navigateTo("/predictions/new")})),e}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"publish_template_modal",children:[Object(i.jsx)("div",{className:"publish_template_modal__layer"}),Object(i.jsxs)("div",{className:"publish_template_modal__body",children:[Object(i.jsx)("div",{className:"publish_template_modal__body--label",children:"Publish workflow template"}),Object(i.jsxs)("div",{className:"publish_template_modal__body--form-block",children:[Object(i.jsx)("div",{className:"publish_template_modal__body--form-label",children:"Name"}),Object(i.jsx)("input",{className:"publish_template_modal__body--form-input",placeholder:"Enter name for this template"})]}),Object(i.jsxs)("div",{className:"publish_template_modal__body--form-block",children:[Object(i.jsx)("div",{className:"publish_template_modal__body--form-label",children:"Description"}),Object(i.jsx)("textarea",{className:"publish_template_modal__body--form-textarea",placeholder:"Enter description for this template"})]}),Object(i.jsxs)("div",{className:"publish_template_modal__body--btn-group",children:[Object(i.jsx)("div",{className:"publish_template_modal__body--btn cancel",onClick:this.props.closeModal,children:"Cancel"}),Object(i.jsx)("div",{className:"publish_template_modal__body--btn create",onClick:this.publishTemplate,children:"Publish template"})]}),Object(i.jsx)("div",{className:"publish_template_modal__body--close-btn",onClick:this.props.closeModal,children:Object(i.jsx)("i",{className:"iconfont iconremove"})})]})]})}}]),n}(r.Component)),Zt=(n(506),Object(l.b)("rulesStore","projectStore","routingStore","templatesStore")(dt=Object(l.c)((ut=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),a=t.call(this,e),Object(_.a)(Object(N.a)(a),"showPublishTemplateModal",pt,Object(N.a)(a)),Object(_.a)(Object(N.a)(a),"isEditingProjectDetail",bt,Object(N.a)(a)),Object(_.a)(Object(N.a)(a),"closeModal",mt,Object(N.a)(a)),Object(_.a)(Object(N.a)(a),"showModal",jt,Object(N.a)(a)),Object(_.a)(Object(N.a)(a),"setEditingProjectDetail",ft,Object(N.a)(a)),Object(k.a)(Object(N.a)(a),"_getProjectId",(function(){var e=Object(p.f)(a.props.routingStore.location.pathname,{path:"/prediction/:id",strict:!0});return e&&e.params.id})),Object(w.makeObservable)(Object(N.a)(a)),a.graphxInstanceUUID=Object(S.a)(),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this._getProjectId();this.props.projectStore.setCurrentProject(t),setTimeout((function(){e.initGraphx()}),300)}},{key:"render",value:function(){var e=this.props,t=e.rulesStore,n=e.projectStore,a=e.routingStore,r=e.templatesStore;return Object(i.jsxs)("div",{className:"workspace",children:[Object(i.jsxs)("section",{className:"workspace__main",children:[Object(i.jsx)("div",{className:"workspace__main--content",children:Object(i.jsx)(ae,{currentProject:t.currentProject,addNewNode:t.addNewNode,selectNode:t.selectNode,connectNodes:t.connectNodes,removeNodes:t.removeNodes,updateLayouts:t.updateLayouts,layouts:t.layouts,showModal:this.showModal,editProjectDetail:this.setEditingProjectDetail})}),Object(i.jsxs)("div",{className:"workspace__main--sidebar",children:[Object(i.jsx)(oe,{isShowing:this.isShowingToolbar,navigateTo:a.push,publishTemplate:r.publishTemplate,nodes:P,graphxUUID:this.graphxInstanceUUID}),this.isShowingNodeDetail?Object(i.jsx)(Wt,{node:t.getCurrentNode,findNodeById:t.findNodeById,updateNodeTransformerSetting:t.updateNodeTransformerSetting,updateNodeDetailSetting:t.updateNodeDetailSetting}):null,this.isShowingPredictionDetail?Object(i.jsx)(Qt,{project:t.currentProject,update:n.update,delete:n.delete,navigateTo:a.push,editProjectDetail:this.setEditingProjectDetail}):null]})]}),this.showPublishTemplateModal?Object(i.jsx)(Xt,{closeModal:this.closeModal,navigateTo:a.push,publishTemplate:r.publishTemplate}):null]})}},{key:"initGraphx",value:function(){var e=this.props,t=e.rulesStore,n=e.projectStore;window[this.graphxInstanceUUID]=new H(document.querySelector("#workflow-canvas"),document.querySelector("#workflow-toolbar"),t.addNewNode,t.updateLayouts,t.connectNodes,t.selectNode,t.removeNodes),n.setGraphXClient(window[this.graphxInstanceUUID]),t.layouts.length>0&&window[this.graphxInstanceUUID].render({layouts:t.layouts})}},{key:"isShowingPredictionDetail",get:function(){return this.isEditingProjectDetail}},{key:"isShowingNodeDetail",get:function(){var e=this.props.rulesStore,t=e.getCurrentNode;e.currentNodeId;return!this.isEditingProjectDetail&&!!t}},{key:"isShowingToolbar",get:function(){var e=this.props.rulesStore,t=e.currentNodeId;e.currentProject;return!this.isEditingProjectDetail&&!t}}]),n}(r.Component),pt=Object(C.a)(ut.prototype,"showPublishTemplateModal",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bt=Object(C.a)(ut.prototype,"isEditingProjectDetail",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mt=Object(C.a)(ut.prototype,"closeModal",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showPublishTemplateModal=!1}}}),jt=Object(C.a)(ut.prototype,"showModal",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showPublishTemplateModal=!0}}}),ft=Object(C.a)(ut.prototype,"setEditingProjectDetail",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isEditingProjectDetail=t}}}),Object(C.a)(ut.prototype,"isShowingPredictionDetail",[w.computed],Object.getOwnPropertyDescriptor(ut.prototype,"isShowingPredictionDetail"),ut.prototype),Object(C.a)(ut.prototype,"isShowingNodeDetail",[w.computed],Object.getOwnPropertyDescriptor(ut.prototype,"isShowingNodeDetail"),ut.prototype),Object(C.a)(ut.prototype,"isShowingToolbar",[w.computed],Object.getOwnPropertyDescriptor(ut.prototype,"isShowingToolbar"),ut.prototype),dt=ut))||dt)||dt),en=n(122),tn=n.n(en),nn=(n(507),Object(l.b)("routingStore","projectStore")(ht=Object(l.c)(ht=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(k.a)(Object(N.a)(e),"newProject",(function(){e.props.routingStore.push("/predictions/new")})),Object(k.a)(Object(N.a)(e),"navigateToProjectDetailPage",(function(t){return function(){e.props.routingStore.push("/prediction/".concat(t))}})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.projectStore.projects;return Object(i.jsxs)("div",{className:"projects",children:[Object(i.jsxs)("div",{className:"projects__toolbar",children:[Object(i.jsx)("input",{className:"projects__toolbar--search-column",placeholder:"Search"}),Object(i.jsx)("div",{className:"projects__toolbar--create-btn",onClick:this.newProject,children:"Create Project"})]}),Object(i.jsxs)("table",{className:"projects__list",children:[Object(i.jsx)("colgroup",{children:Object(i.jsx)("col",{style:{width:"16%",minWidth:"16%"}})}),Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Title"}),Object(i.jsx)("th",{children:"Status"}),Object(i.jsx)("th",{children:"Last run"}),Object(i.jsx)("th",{children:"Creation date"}),Object(i.jsx)("th",{children:"Owner"})]})}),Object(i.jsxs)("tbody",{children:[t&&0!=t.length?null:Object(i.jsx)("tr",{className:"empty",children:Object(i.jsxs)("div",{className:"empty-placeholder-block",children:[Object(i.jsx)("div",{className:"create-link",onClick:this.newProject,children:"Create Project"}),Object(i.jsx)("div",{className:"empty-placeholder",children:"You don\u2019t have any project yet. start your prediction project"})]})}),t.map((function(t){return Object(i.jsxs)("tr",{className:"projects__list--item",onClick:e.navigateToProjectDetailPage(t.id),children:[Object(i.jsxs)("th",{children:[Object(i.jsx)("div",{className:"projects__list--project-name",children:t.project.name}),Object(i.jsx)("div",{className:"projects__list--project-desc",children:t.project.description})]}),Object(i.jsxs)("th",{children:[Object(i.jsx)("div",{className:"projects__list--status-bar-bg",children:Object(i.jsx)("div",{className:"projects__list--status-bar-process processing",style:{width:"56%"}})}),Object(i.jsx)("div",{className:"projects__list--status-bar-info",children:"Running (1h 11min)"})]}),Object(i.jsxs)("th",{children:[Object(i.jsx)("div",{className:"projects__list--date",children:tn()(t.project.lastRun).format("MM-DD-YYYY")}),Object(i.jsx)("div",{className:"projects__list--time",children:tn()(t.project.lastRun).format("hh:mm")})]}),Object(i.jsxs)("th",{children:[Object(i.jsx)("div",{className:"projects__list--date",children:tn()(t.project.createdTime).format("MM-DD-YYYY")}),Object(i.jsx)("div",{className:"projects__list--time",children:tn()(t.project.createdTime).format("hh:mm")})]}),Object(i.jsxs)("th",{children:[Object(i.jsx)("div",{className:"projects__list--owner-avatar"}),Object(i.jsx)("div",{className:"projects__list--owner-name",children:t.project.creatorName})]})]},t.id)}))]})]})]})}}]),n}(r.Component))||ht)||ht),an=(n(508),de.a.Option),rn=Object(l.b)("routingStore","templatesStore","projectStore")(gt=Object(l.c)(gt=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(k.a)(Object(N.a)(e),"componentDidMount",(function(){e.init()})),Object(k.a)(Object(N.a)(e),"init",(function(){e.graphx=new H(document.querySelector(".templates__canvas--container")),e.graphx.render(e.props.templatesStore.currentTemplate)})),Object(k.a)(Object(N.a)(e),"cancel",(function(){e.props.routingStore.push("/projects")})),Object(k.a)(Object(N.a)(e),"create",(function(){var t=e.refs,n=t.projectName,a=t.projectDesc;e.props.projectStore.create({name:n.value,description:a.value,projectType:"BinaryClassification"},(function(t){e.props.routingStore.push("/prediction/".concat(t.id))}))})),Object(k.a)(Object(N.a)(e),"previewTemplate",(function(t){var n=e.props.templatesStore.templates.find((function(e){return e.id==t}));e.props.templatesStore.previewTemplate(n),e.graphx.render(n)})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.templatesStore;e.projectStore;return Object(i.jsxs)("div",{className:"templates",children:[Object(i.jsxs)("div",{className:"templates__project-detail-panel",children:[Object(i.jsx)("div",{className:"templates__project-detail-panel--panel-label",children:"Project details"}),Object(i.jsx)("div",{className:"templates__project-detail-panel--form-label",children:"Project name"}),Object(i.jsx)("input",{className:"templates__project-detail-panel--form-input",ref:"projectName",placeholder:"project name"}),Object(i.jsx)("div",{className:"templates__project-detail-panel--form-label",children:"Description"}),Object(i.jsx)("textarea",{className:"templates__project-detail-panel--form-textarea",ref:"projectDesc",placeholder:"description..."}),Object(i.jsx)("div",{className:"templates__project-detail-panel--form-label",children:"Tempaltes"}),Object(i.jsx)(de.a,{className:"templates__project-detail-panel--form-select",defaultValue:t.currentTemplate.id,onChange:this.previewTemplate,style:{width:"100%"},placeholder:"Select a template",size:"large",children:t.templates.map((function(e){return Object(i.jsx)(an,{value:e.id,children:e.name},e.id)}))}),Object(i.jsxs)("div",{className:"templates__project-detail-panel--btns-group",children:[Object(i.jsx)("div",{className:"templates__project-detail-panel--btn cancel",onClick:this.cancel,children:"Cancel"}),Object(i.jsx)("div",{className:"templates__project-detail-panel--btn create",onClick:this.create,children:"Create project"})]})]}),Object(i.jsxs)("div",{className:"templates__info-container",children:[Object(i.jsxs)("div",{className:"templates__detail-info",children:[Object(i.jsx)("div",{className:"templates__detail-info--label",children:"Template details"}),Object(i.jsx)("div",{className:"templates__detail-info--name",children:"Default template"}),Object(i.jsx)("div",{className:"templates__detail-info--desc",children:"This is a typical template that is created to handle simple prediction tasks."}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"templates__detail-info--info-block",children:[Object(i.jsx)("label",{children:"Users segment:"}),Object(i.jsx)("span",{children:"All"})]}),Object(i.jsxs)("div",{className:"templates__detail-info--info-block",children:[Object(i.jsx)("label",{children:"Weeks of training data:"}),Object(i.jsx)("span",{children:"26"})]}),Object(i.jsxs)("div",{className:"templates__detail-info--info-block",children:[Object(i.jsx)("label",{children:"Prediction Label:"}),Object(i.jsx)("span",{children:"Label_name"})]}),Object(i.jsxs)("div",{className:"templates__detail-info--info-block",children:[Object(i.jsx)("label",{children:"Project type:"}),Object(i.jsx)("span",{className:"highlight",children:"Binary classification"})]}),Object(i.jsxs)("div",{className:"templates__detail-info--info-block",children:[Object(i.jsx)("label",{children:"Created by:"}),Object(i.jsx)("span",{children:"User #1"})]})]})]}),Object(i.jsxs)("div",{className:"templates__canvas",children:[Object(i.jsx)("div",{className:"templates__canvas--container"}),Object(i.jsx)("div",{className:"templates__canvas--layer"})]})]})]})}}]),n}(r.Component))||gt)||gt,cn=(n(509),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.queries,n=e.selectedFilterId,a=this.props,r=a.deleteFilter,c=a.duplicateFilter,s=a.selectFilter,o=a.addEmptyFilter;return Object(i.jsxs)("div",{className:"label-definition",children:[Object(i.jsxs)("div",{className:"label-definition__header",children:[Object(i.jsx)("div",{className:"label-definition__header--left-block",children:Object(i.jsx)("div",{className:"label-definition__header--project-name",children:"Project #1"})}),Object(i.jsx)("div",{className:"label-definition__header--right-block",children:Object(i.jsx)("div",{className:"label-definition__header--btn-group disabled",children:"Train"})})]}),Object(i.jsx)("div",{className:"label-definition__alert-bar",children:Object(i.jsx)(ne,{title:"Project created",desc:"To start creating your workflow, drag and drop any of the objects from the workflow toolbox.",type:"succeed"})}),Object(i.jsxs)("div",{className:"label-definition__container with-alert",children:[Object(i.jsx)("div",{children:Object.keys(t).map((function(e,a){return Object(i.jsxs)("div",{className:"label-definition__logic-table",children:[Object(i.jsx)("div",{className:"label-definition__logic-column",children:Object(i.jsx)("div",{className:"label-definition__logic-item table",children:e})}),Object(i.jsx)("div",{className:"label-definition__logic-column",children:t[e].map((function(e,t){return Object(i.jsxs)("div",{className:"label-definition__logic-row ".concat(e.logicOperator),children:[Object(i.jsxs)("div",{className:"label-definition__logic-block",children:[Object(i.jsx)("div",{className:"label-definition__logic-item ".concat(e.conditions[0].aggregation||"filter"),children:"".concat(e.conditions[0].columnName," ").concat(e.conditions[0].operator," ").concat(e.conditions[0].value)}),e.conditions.slice(1,e.conditions.length).map((function(e,t){return Object(i.jsx)("div",{className:"label-definition__logic-row ".concat(e.logicOperator),children:Object(i.jsx)("div",{className:"label-definition__logic-item ".concat(e.aggregation||"filter"," "),children:"".concat(e.columnName," ").concat(e.operator," ").concat(e.value)})},"row-sub-".concat(t))}))]}),Object(i.jsx)("div",{className:"label-definition__hover-layer",children:Object(i.jsx)("div",{className:"label-definition__hover-layer--container ".concat(n==e.id?"selected":""),children:Object(i.jsxs)("div",{className:"label-definition__hover-layer--toolbar",children:[Object(i.jsx)("i",{className:"iconfont iconcopy",onClick:c(e.id)}),Object(i.jsx)("i",{className:"iconfont icondelete",onClick:r(e.id)}),Object(i.jsx)("i",{className:"iconfont iconpencil",onClick:s(e.id)})]})})})]},"row-".concat(t))}))})]},"table-".concat(a))}))}),Object(i.jsxs)("div",{className:"label-definition__container--add-filter",onClick:o,children:[Object(i.jsx)("i",{className:"iconfont iconplus"}),"Add filter"]})]})]})}}]),n}(r.Component)),sn=(n(510),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(k.a)(Object(N.a)(e),"_renderOperations",(function(){return Object(i.jsxs)(Ne.a,{children:[Object(i.jsx)(Ne.a.Item,{children:"Test"},"test"),Object(i.jsx)(Ne.a.Item,{children:"Some"},"some")]})})),e}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"define-prediction",children:[Object(i.jsx)("div",{className:"define-prediction__label",children:"Define prediction"}),Object(i.jsx)("div",{className:"define-prediction__desc",children:"Predicition are predefined labels. Please select from the list below or create a new one."}),Object(i.jsx)(xe.a,{overlay:this._renderOperations(),trigger:["click"],children:Object(i.jsxs)("div",{className:"define-prediction__select-panel",children:[Object(i.jsx)("div",{className:"define-prediction__select-panel--value",children:"Load prediction label"}),Object(i.jsx)("div",{className:"define-prediction__select-panel--icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})}),Object(i.jsxs)("div",{className:"define-prediction__add-btn",children:[Object(i.jsx)("i",{className:"iconfont iconplus"}),"Add prediciton label"]})]})}}]),n}(r.Component)),on=(n(511),{filter:"No aggregate function",sum:"SUM"}),ln={in:"In",between:"Between","==":"Equal to",">=":"Greater than or equal to",">":"Greater than","<=":"Less than or equal to","<":"Less than"},dn=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(k.a)(Object(N.a)(e),"_renderTableOptions",(function(){return Object(i.jsxs)(Ne.a,{onClick:e.chooseTable,children:[Object(i.jsx)(Ne.a.Item,{children:"Orders"},"Orders"),Object(i.jsx)(Ne.a.Item,{children:"Products"},"Products"),Object(i.jsx)(Ne.a.Item,{children:"Users"},"Users")]})})),Object(k.a)(Object(N.a)(e),"_renderColumnOptions",(function(t){return Object(i.jsxs)(Ne.a,{onClick:e.chooseColumn(t),children:[Object(i.jsx)(Ne.a.Item,{children:"Order_date"},"Order_date"),Object(i.jsx)(Ne.a.Item,{children:"purchase"},"purchase"),Object(i.jsx)(Ne.a.Item,{children:"Status"},"Status"),Object(i.jsx)(Ne.a.Item,{children:"Name"},"Name"),Object(i.jsx)(Ne.a.Item,{children:"Version"},"Version")]})})),Object(k.a)(Object(N.a)(e),"_renderAggFuncOptions",(function(t){return Object(i.jsx)(Ne.a,{onClick:e.chooseAggFunc(t),children:Object.keys(on).map((function(e){return Object(i.jsx)(Ne.a.Item,{children:on[e]},e)}))})})),Object(k.a)(Object(N.a)(e),"_renderOperatorOptions",(function(t){return Object(i.jsx)(Ne.a,{onClick:e.chooseOperator(t),children:Object.keys(ln).map((function(e){return Object(i.jsx)(Ne.a.Item,{children:ln[e]},e)}))})})),Object(k.a)(Object(N.a)(e),"chooseTable",(function(t){e.props.updateTable(t.key)})),Object(k.a)(Object(N.a)(e),"chooseAggFunc",(function(t){return function(n){e.props.updateFilter("aggregation",t,n.key)}})),Object(k.a)(Object(N.a)(e),"chooseColumn",(function(t){return function(n){e.props.updateFilter("columnName",t,n.key)}})),Object(k.a)(Object(N.a)(e),"chooseOperator",(function(t){return function(n){e.props.updateFilter("operator",t,n.key)}})),Object(k.a)(Object(N.a)(e),"setValue",(function(t){return function(n){e.props.updateFilter("value",t,n.key)}})),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedFilter,a=t.cancelEdit,r=t.addEmptyCondition;t.cancelEmptyCondition;return Object(i.jsxs)("div",{className:"add-prediction-label",children:[Object(i.jsx)("div",{className:"add-prediction-label__label",children:"Add new prediction label"}),Object(i.jsxs)("div",{className:"add-prediction-label__form-block",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--label",children:"Name"}),Object(i.jsx)("input",{className:"add-prediction-label__form-block--input",placeholder:"Enter a name for this label"})]}),Object(i.jsxs)("div",{className:"add-prediction-label__form-block",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--label",children:"Table"}),Object(i.jsx)(xe.a,{overlay:this._renderTableOptions(0),trigger:["click"],children:Object(i.jsxs)("div",{className:"add-prediction-label__form-block--select",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-value",children:n.tableName||"Select table"}),Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})})]}),Object(i.jsxs)("div",{className:"add-prediction-label__form-block",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--label",children:"Column"}),Object(i.jsx)(xe.a,{overlay:this._renderColumnOptions(0),trigger:["click"],children:Object(i.jsxs)("div",{className:"add-prediction-label__form-block--select",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-value",children:n&&n.conditions[0].columnName||"Select column"}),Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})}),Object(i.jsx)(xe.a,{overlay:this._renderAggFuncOptions(0),trigger:["click"],children:Object(i.jsxs)("div",{className:"add-prediction-label__form-block--select",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-value",children:n&&n.conditions[0]?on[n.conditions[0].aggregate]||"filter":"SUM"}),Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})}),Object(i.jsx)(xe.a,{overlay:this._renderOperatorOptions(0),trigger:["click"],children:Object(i.jsxs)("div",{className:"add-prediction-label__form-block--select",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-value",children:n&&n.conditions[0]?ln[n.conditions[0].operator]:"Equal to"}),Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})}),Object(i.jsx)("input",{className:"add-prediction-label__form-block--input",placeholder:"Value",value:n&&n.conditions[0].value,onChange:this.setValue})]}),n&&n.conditions.length>1?n.conditions.slice(1,n.conditions.length).map((function(t,n){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block",children:Object(i.jsxs)("div",{className:"add-prediction-label__form-block--select disabled",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-value",children:"OR"}),Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})}),Object(i.jsxs)("div",{className:"add-prediction-label__form-block",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--label",children:"Column"}),Object(i.jsx)(xe.a,{overlay:e._renderColumnOptions(n+1),trigger:["click"],children:Object(i.jsxs)("div",{className:"add-prediction-label__form-block--select",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-value",children:t.columnName||"Select column"}),Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})}),Object(i.jsx)(xe.a,{overlay:e._renderAggFuncOptions(n+1),trigger:["click"],children:Object(i.jsxs)("div",{className:"add-prediction-label__form-block--select",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-value",children:t.agregation||"No aggregate func"}),Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})}),Object(i.jsx)(xe.a,{overlay:e._renderOperatorOptions(n+1),trigger:["click"],children:Object(i.jsxs)("div",{className:"add-prediction-label__form-block--select",children:[Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-value",children:t.operator||"=="}),Object(i.jsx)("div",{className:"add-prediction-label__form-block--select-icon",children:Object(i.jsx)("i",{className:"iconfont iconvector-down"})})]})}),Object(i.jsx)("input",{className:"add-prediction-label__form-block--input",placeholder:"Value",value:t.value})]})]},n)})):null,Object(i.jsxs)("div",{className:"add-prediction-label__add-btn",onClick:r,children:[Object(i.jsx)("i",{className:"iconfont iconplus"}),"Add condition"]}),Object(i.jsxs)("div",{className:"add-prediction-label__btn-group",children:[Object(i.jsx)("div",{className:"add-prediction-label__btn-group--btn cancel",onClick:a,children:"Cancel"}),Object(i.jsx)("div",{className:"add-prediction-label__btn-group--btn confirm",children:"Add filter"})]})]})}}]),n}(r.Component),un=(n(512),Object(l.b)("queriesStore")(Ot=Object(l.c)(Ot=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.queriesStore;return Object(i.jsx)("div",{className:"labels",children:Object(i.jsxs)("section",{className:"labels__main",children:[Object(i.jsx)("div",{className:"labels__main--content",children:Object(i.jsx)(cn,{queries:e.parsedQueries,deleteFilter:e.deleteFilter,duplicateFilter:e.duplicateFilter,selectFilter:e.selectFilter,selectedFilterId:e.selectedFilterId,addEmptyFilter:e.addEmptyFilter})}),Object(i.jsx)("div",{className:"labels__main--sidebar",children:null!=e.selectedFilterId?Object(i.jsx)(dn,{selectedFilter:e.selectedFilter,cancelEdit:e.cancelEdit,addEmptyCondition:e.addEmptyCondition,cancelEmptyCondition:e.cancenlEmptyCondition,updateTable:e.updateTable,updateCondition:e.updateCondition,updateFilter:e.updateFilter}):Object(i.jsx)(sn,{})})]})})}}]),n}(r.Component))||Ot)||Ot),pn=n(181),bn=n.n(pn),mn=n(266),jn=n.n(mn),fn=Ct.a.Item,hn=de.a.Option,gn=function(e){var t=Ct.a.useForm(),n=Object(ce.a)(t,1)[0];return Object(i.jsxs)("div",{className:"person-form-container",children:[Object(i.jsx)("div",{className:"caption",children:"Add person"}),Object(i.jsxs)(Ct.a,{className:"person-form",form:n,layout:"vertical",onFinish:function(t){e.onFinish(t),console.log(t),n.resetFields()},initialValues:{role:"dataScientist"},children:[Object(i.jsx)(fn,{name:"name",label:"Name",rules:[{required:!0}],children:Object(i.jsx)(re.a,{placeholder:"Enter user name"})}),Object(i.jsx)(fn,{name:"email",label:"Email",rules:[{required:!0,type:"email"}],children:Object(i.jsx)(re.a,{placeholder:"Enter user email"})}),Object(i.jsx)(fn,{name:"role",label:"Role",rules:[{required:!0}],children:Object(i.jsxs)(de.a,{placeholder:"Select user role",children:[Object(i.jsx)(hn,{value:"dataScientist",children:"Data Scientist"}),Object(i.jsx)(hn,{value:"businessUser",children:"Bussiness User"})]})}),Object(i.jsx)(fn,{name:"admin",valuePropName:"checked",children:Object(i.jsx)(jn.a,{children:"Make admin"})}),Object(i.jsx)(fn,{children:Object(i.jsx)(De.a,{type:"primary",htmlType:"submit",children:"Add person"})})]})]})},On=Ct.a.Item,yn=de.a.Option,vn=function(e){var t=Ct.a.useForm(),n=Object(ce.a)(t,1)[0];return Object(i.jsxs)("div",{className:"data-source-form-container",children:[Object(i.jsx)("div",{className:"caption",children:"Add data source"}),Object(i.jsxs)(Ct.a,{form:n,className:"data-source-form",layout:"vertical",onFinish:function(t){e.onFinish(t),n.resetFields()},initialValues:{type:"mysql"},children:[Object(i.jsx)(On,{name:"type",label:"Data source type",children:Object(i.jsxs)(de.a,{children:[Object(i.jsx)(yn,{value:"mysql",children:"MySQL"}),Object(i.jsx)(yn,{value:"postgres",children:"PostgreSQL"})]})}),Object(i.jsx)(On,{name:"name",label:"Name",children:Object(i.jsx)(re.a,{placeholder:"Enter data source name"})}),Object(i.jsx)(On,{name:"host",label:"Host",children:Object(i.jsx)(re.a,{placeholder:"Enter data source host"})}),Object(i.jsx)(On,{name:"port",label:"Port",children:Object(i.jsx)(re.a,{placeholder:"Enter data source port"})}),Object(i.jsx)(On,{name:"database",label:"Database name",children:Object(i.jsx)(re.a,{placeholder:"Enter database name"})}),Object(i.jsx)(On,{name:"username",label:"Username",children:Object(i.jsx)(re.a,{placeholder:"Enter database username"})}),Object(i.jsx)(On,{name:"password",label:"Password",children:Object(i.jsx)(re.a,{type:"password",placeholder:"Enter database password"})}),Object(i.jsx)(On,{children:Object(i.jsx)(De.a,{children:"Test connectivity"})}),Object(i.jsx)(On,{children:Object(i.jsx)(De.a,{type:"primary",htmlType:"submit",children:"Add data source"})})]})]})};var xn,_n,Nn,kn,Cn,wn,Sn,Tn,In,Pn,Dn,Fn,En,An,qn,Rn,$n,Bn,Mn,Ln,Vn,zn,Un,Gn,Kn,Yn,Jn,Wn,Hn,Qn,Xn,Zn,ea,ta,na,aa,ia,ra,ca,sa,oa,la,da,ua=function(){return Object(i.jsx)("div",{className:"account-detail-panel",children:"Account Detail"})},pa=n(619),ba=n(618),ma=Ne.a.Item,ja=function(e){var t=e.data,n=Object(i.jsx)(Ne.a,{children:Object(i.jsx)(ma,{children:"Disable"})}),a=Object(i.jsx)(xe.a,{overlay:n,trigger:["click"],children:Object(i.jsx)(pa.a,{})});return Object(i.jsxs)("div",{className:"person",children:[Object(i.jsx)("div",{className:"person__admin-indicator",children:t.admin?Object(i.jsx)(ba.a,{}):null}),Object(i.jsx)("div",{className:"person__avatar-wrapper",children:Object(i.jsx)("img",{src:t.avatarUrl||"https://i.pravatar.cc/32",alt:t.name})}),Object(i.jsxs)("div",{className:"person__body",children:[Object(i.jsx)("div",{className:"name",children:t.name}),Object(i.jsx)("div",{className:"role",children:t.role}),Object(i.jsx)("div",{className:"joined-at",children:t.joinedAt})]}),Object(i.jsx)("div",{className:"action",children:a})]})},fa=Ne.a.Item,ha=function(e){var t=e.data,n=Object(i.jsx)(Ne.a,{children:Object(i.jsx)(fa,{children:"Delete"})}),a=Object(i.jsx)(xe.a,{overlay:n,trigger:["click"],children:Object(i.jsx)(pa.a,{})});return Object(i.jsxs)("div",{className:"data-source",children:[Object(i.jsxs)("div",{className:"data-source__body",children:[Object(i.jsx)("div",{className:"data-source__body__name",children:t.name}),Object(i.jsx)("div",{className:"data-source__body__type",children:t.type}),Object(i.jsxs)("div",{className:"data-source__body__created-at",children:["Added: ",t.creatdedAt]})]}),Object(i.jsx)("div",{className:"data-source__action",children:a})]})},ga=(n(514),bn.a.TabPane),Oa=Object(l.b)("adminStore")(Object(l.c)((function(e){var t=Object(r.useState)("people"),n=Object(ce.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){e.adminStore.fetchUsers(),e.adminStore.fetchDataSources()}),[]);var s=null;return"people"===a?s=Object(i.jsx)(gn,{onFinish:function(t){e.adminStore.createUser(t)}}):"dataSource"===a?s=Object(i.jsx)(vn,{onFinish:function(t){e.adminStore.createDataSource(t)}}):"accountUsage"===a&&(s=Object(i.jsx)(ua,{})),Object(i.jsxs)("div",{className:"admin-container",children:[Object(i.jsxs)(bn.a,{className:"admin-container__tabs",type:"card",onChange:function(e){c(e)},children:[Object(i.jsx)(ga,{tab:"People",children:e.adminStore.users.map((function(e,t){return Object(i.jsx)(ja,{data:e},t)}))},"people"),Object(i.jsx)(ga,{tab:"Data Source",children:e.adminStore.dataSources.map((function(e,t){return Object(i.jsx)(ha,{data:e},t)}))},"dataSource"),Object(i.jsx)(ga,{tab:"Account Usage"},"accountUsage")]}),Object(i.jsx)("div",{className:"admin-container__sidebar",children:s})]})}))),ya=(n(518),Ct.a.Item),va=Object(l.b)("routingStore","userStore")(Object(l.c)((function(e){var t=e.routingStore,n=Ct.a.useForm(),a=Object(ce.a)(n,1)[0],r=Object(i.jsx)(v.a,{to:"/forget-password",children:"I forgot my password"});return e.userStore.authed&&t.push("/"),Object(i.jsxs)("div",{className:"login",children:[Object(i.jsxs)("div",{className:"login__left-panel",children:[Object(i.jsx)("div",{className:"login__left-panel--logo",children:Object(i.jsx)("img",{src:"images/logo.png"})}),Object(i.jsxs)("div",{className:"login__left-panel--slogan",children:["Build predictions models, get all insights from your company data"," ",Object(i.jsx)("b",{children:"flexibly"}),"."]}),Object(i.jsx)("img",{className:"login__left-panel--tree-bg",src:"images/tree.svg"}),Object(i.jsx)("div",{className:"login__left-panel--lines-bg"}),Object(i.jsx)("div",{className:"login__left-panel--bottom-lines-bg"}),Object(i.jsx)("div",{className:"login__left-panel--footer"})]}),Object(i.jsx)("div",{className:"login__right-panel",children:Object(i.jsxs)("div",{className:"login__form-container",children:[Object(i.jsx)("div",{className:"login__form-container__header",children:"Login to your account"}),Object(i.jsxs)(Ct.a,{className:"login__form-container__body",layout:"vertical",requiredMark:"optional",form:a,onFinish:function(n){var a=new FormData;a.append("username",n.email),a.append("password",n.password),y.a.post("/api/user/login",a).then((function(n){e.userStore.stompWebsocket.connect((function(){e.userStore.signIn(),t.push("/")}))}))},children:[Object(i.jsx)(ya,{label:"Email",name:"email",rules:[{required:!0}],children:Object(i.jsx)(re.a,{placeholder:"Enter your email"})}),Object(i.jsx)(ya,{label:"Password",name:"password",rules:[{required:!0}],extra:r,children:Object(i.jsx)(re.a,{type:"password",placeholder:"Enter your password"})}),Object(i.jsx)(ya,{children:Object(i.jsx)(De.a,{type:"primary",htmlType:"submit",children:"Login"})})]})]})})]})}))),xa=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsxs)(p.d,{children:[Object(i.jsx)(p.b,{exact:!0,path:"/login",children:Object(i.jsx)(va,{})}),Object(i.jsx)(g,{path:"/",children:Object(i.jsxs)("div",{className:"modou-app",children:[Object(i.jsx)(x,{}),Object(i.jsx)("section",{className:"modou-app__body",children:Object(i.jsxs)(p.d,{children:[Object(i.jsx)(p.b,{exact:!0,path:"/predictions/new",children:Object(i.jsx)(rn,{})}),Object(i.jsx)(p.b,{exact:!0,path:"/prediction/:id",children:Object(i.jsx)(Zt,{})}),Object(i.jsx)(p.b,{exact:!0,path:"/labels",children:Object(i.jsx)(un,{})}),Object(i.jsx)(p.b,{exact:!0,path:"/admin",children:Object(i.jsx)(Oa,{})}),Object(i.jsx)(p.b,{path:"/",children:Object(i.jsx)(nn,{})})]})})]})})]})}}]),n}(r.Component),_a=n(267),Na=n.n(_a),ka=n(268),Ca=n.n(ka),wa=function e(t,n){Object(b.a)(this,e),this.topic=t,this.callback=n},Sa=function(){function e(t){Object(b.a)(this,e),this.endpoint=t,this.messageCallbacks=[],this.conn=null,this.topics=[],this.ref=0,this.connected=!1,this.rejoinTimer=null,this.sendBuffer=[]}return Object(m.a)(e,[{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"connect",value:function(e,t){var n=this;this.conn&this.connected||(this.sock=Na()("/stomp"),this.conn=Ca.a.over(this.sock),this.conn.connect({},(function(){n.onConnOpen(),e&&e()}),(function(e,a){n.onConnClose(e),t&&t(e,a)})))}},{key:"reconnect",value:function(){this.connect()}},{key:"disconnect",value:function(){this.conn&&this.conn.disconnect()}},{key:"registerCallback",value:function(e,t){this.topics.includes(e)||this.topics.push(e);var n=new wa(e,(function(e){return t(e)}));this.messageCallbacks.push(n)}},{key:"send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;this.connected?this.conn.send(e,n,a):(this.rejoinTimer=new fe((function(){t.connected&&t.reconnect()}),(function(e){return[1e3,3e3,5e3,1e4][e-1]||1e4})),this.sendBuffer.push({topic:e,message:a,headers:n}))}},{key:"onConnOpen",value:function(){var e=this;console.log("StompWebsocket connected!"),this.connected=!0,this.rejoinTimer&&this.rejoinTimer.reset(),this.topics.forEach((function(t){e.conn.subscribe(t,e.onMessage.bind(e))})),console.log("flushing send buffer..."),this.sendBuffer.forEach((function(t){var n=t.topic,a=t.message,i=t.headers;e.send(n,i,a)})),this.sendBuffer=[]}},{key:"onMessage",value:function(e){var t=e.headers.destination;this.messageCallbacks.filter((function(e){return e.topic===t})).forEach((function(t){t.callback(e)}))}},{key:"onConnClose",value:function(e){this.connected=!1,console.log("StompWebsocket closed!")}}]),e}(),Ta=(xn=function(){function e(){var t=this;Object(b.a)(this,e),Object(_.a)(this,"currentProject",_n,this),Object(_.a)(this,"nodesMap",Nn,this),Object(_.a)(this,"configs",kn,this),Object(_.a)(this,"currentNodeId",Cn,this),Object(_.a)(this,"layouts",wn,this),Object(_.a)(this,"addNewNode",Sn,this),Object(_.a)(this,"selectNode",Tn,this),Object(_.a)(this,"connectNodes",In,this),Object(_.a)(this,"removeNodes",Pn,this),Object(_.a)(this,"updateNodeTransformerSetting",Dn,this),Object(_.a)(this,"updateNodeDetailSetting",Fn,this),Object(_.a)(this,"updateLayouts",En,this),Object(_.a)(this,"applyTemplate",An,this),Object(k.a)(this,"findNodeById",(function(e){return t.nodesMap[e]})),Object(k.a)(this,"_updateProject",(function(){t.updateDebounce&&clearTimeout(t.updateDebounce),t.updateDebounce=setTimeout((function(){t.stompWebsocket.send("/app/update_project",{},JSON.stringify({id:t.currentProject.id,configs:t.configs.map((function(e){return{id:e.id,name:e.name,description:e.description,nodeType:"CalculateNode",config:JSON.stringify(e)}})),layouts:t.layouts.map((function(e){return{id:e.id,layout:JSON.stringify(e)}}))})),t.updateDebounce=null}),300)})),Object(w.makeObservable)(this)}return Object(m.a)(e,[{key:"registerTopics",value:function(e){this.stompWebsocket=e}},{key:"getCurrentNode",get:function(){return this.nodesMap[this.currentNodeId]}}]),e}(),_n=Object(C.a)(xn.prototype,"currentProject",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Nn=Object(C.a)(xn.prototype,"nodesMap",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kn=Object(C.a)(xn.prototype,"configs",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cn=Object(C.a)(xn.prototype,"currentNodeId",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wn=Object(C.a)(xn.prototype,"layouts",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sn=Object(C.a)(xn.prototype,"addNewNode",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,i){var r=Object(a.a)(Object(a.a)({},P[t].defaultTemplate),{},{id:n,name:i});e.nodesMap[n]=r,e.configs.push(e.nodesMap[n]),e._updateProject()}}}),Tn=Object(C.a)(xn.prototype,"selectNode",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentNodeId=t}}}),In=Object(C.a)(xn.prototype,"connectNodes",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var a=e.nodesMap[n];a.parent=a.parent.concat([t]),e._updateProject()}}}),Pn=Object(C.a)(xn.prototype,"removeNodes",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.forEach((function(t){if(t.isEdge()){var n=e.nodesMap[t.target.id];n&&(n.parent=n.parent.filter((function(e){return e!=t.source.id})))}else e.configs=e.configs.filter((function(e){return e.id!=t.id}))}))}}}),Dn=Object(C.a)(xn.prototype,"updateNodeTransformerSetting",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.getCurrentNode.transformer[t]=n,e._updateProject()}}}),Fn=Object(C.a)(xn.prototype,"updateNodeDetailSetting",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.getCurrentNode[t]=n,e._updateProject()}}}),En=Object(C.a)(xn.prototype,"updateLayouts",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.layouts=JSON.parse(Q(t)),e._updateProject()}}}),An=Object(C.a)(xn.prototype,"applyTemplate",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var i={};n.forEach((function(e){i[e.id]=Object(A.a)()})),e.configs=t.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{id:i[e.id],parent:e.parent.map((function(e){return i[e]}))})})),e.layouts=n.map((function(e){var t=Object(a.a)(Object(a.a)({},e),{},{id:i[e.id],source:i[e.source]||null,target:i[e.target]||null});return e.edges&&(t=Object(a.a)(Object(a.a)({},t),{},{edges:e.edges.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{id:i[e.id],source:i[e.source],target:i[e.target]})}))})),t})),e.configs.forEach((function(t){return e.nodesMap[t.id]=t}))}}}),Object(C.a)(xn.prototype,"getCurrentNode",[w.computed],Object.getOwnPropertyDescriptor(xn.prototype,"getCurrentNode"),xn.prototype),xn),Ia={id:1,name:"Segment Example",description:"Segment Description",audienceNumber:12e3,createdTime:"1616659922",updatedTime:"1616659922",filters:[{id:1,logicOperator:"AND",tableId:1,tableName:"orders",createdTime:"1616659922",updatedTime:"1616659922",conditions:[{id:1,columnId:1,columnName:"order_date",aggregation:null,operator:"between",value:"12/01/2021,19/01/2021",logicOperator:"OR",createdTime:"1616659922",updatedTime:"1616659922"}]},{id:2,logicOperator:"AND",tableId:1,tableName:"orders",createdTime:"1616659922",updatedTime:"1616659922",conditions:[{id:2,columnId:2,columnName:"purchase",aggregation:"sum",operator:">=",value:"1287",logicOperator:"OR",createdTime:"1616659922",updatedTime:"1616659922"}]},{id:3,logicOperator:"AND",tableId:1,tableName:"orders",createdTime:"1616659922",updatedTime:"1616659922",conditions:[{id:3,columnId:3,columnName:"status",aggregation:null,operator:"==",value:"Completed",logicOperator:"OR",createdTime:"1616659922",updatedTime:"1616659922"},{id:4,columnId:3,columnName:"status",aggregation:null,operator:"==",value:"Canceled",logicOperator:"OR",createdTime:"1616659922",updatedTime:"1616659922"}]},{id:4,logicOperator:"AND",tableId:2,tableName:"products",createdTime:"1616659922",updatedTime:"1616659922",conditions:[{id:5,columnId:4,columnName:"name",aggregation:null,operator:"==",value:"iPhone",logicOperator:"OR",createdTime:"1616659922",updatedTime:"1616659922"}]},{id:5,logicOperator:"AND",tableId:2,tableName:"products",createdTime:"1616659922",updatedTime:"1616659922",conditions:[{id:6,columnId:5,columnName:"version",aggregation:null,operator:"in",value:"10,11,12",logicOperator:"OR",createdTime:"1616659922",updatedTime:"1616659922"}]}]},Pa={logicOperator:"AND",tableId:"",tableName:"",conditions:[{columnId:"",columnName:"",aggregation:"",operator:"",value:"",logicOperator:"OR"}]},Da=(qn=function(){function e(){Object(b.a)(this,e),Object(_.a)(this,"queries",Rn,this),Object(_.a)(this,"selectedFilterId",$n,this),Object(_.a)(this,"selectFilter",Bn,this),Object(_.a)(this,"addEmptyFilter",Mn,this),Object(_.a)(this,"addEmptyCondition",Ln,this),Object(_.a)(this,"updateTable",Vn,this),Object(_.a)(this,"updateFilter",zn,this),Object(_.a)(this,"cancelEmptyCondition",Un,this),Object(_.a)(this,"cancelEdit",Gn,this),Object(_.a)(this,"deleteFilter",Kn,this),Object(_.a)(this,"duplicateFilter",Yn,this),Object(w.makeObservable)(this)}return Object(m.a)(e,[{key:"selectedTable",get:function(){var e=this.queries[this.selectedRowTId];return e?e.table:null}},{key:"selectedFilter",get:function(){var e=this;return this.queries.find((function(t){return t.id==e.selectedFilterId}))}},{key:"parsedQueries",get:function(){return Object(se.groupBy)(this.queries,(function(e){return e.tableName}))}}]),e}(),Rn=Object(C.a)(qn.prototype,"queries",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ia.filters}}),$n=Object(C.a)(qn.prototype,"selectedFilterId",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bn=Object(C.a)(qn.prototype,"selectFilter",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return function(){e.selectedFilterId=t}}}}),Mn=Object(C.a)(qn.prototype,"addEmptyFilter",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(A.a)();e.queries.push(Object(a.a)(Object(a.a)({},Object(se.cloneDeep)(Pa)),{},{id:t})),e.selectedFilterId=t}}}),Ln=Object(C.a)(qn.prototype,"addEmptyCondition",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.queries.map((function(e){return e.id})).indexOf(e.selectedFilterId);e.queries=Rt()(e.queries,Object(k.a)({},t,{conditions:{$push:[{columndId:"",columnName:"",aggregation:"",operator:"",value:"",logicOperator:"OR"}]}}))}}}),Vn=Object(C.a)(qn.prototype,"updateTable",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.queries=Rt()(e.queries,Object(k.a)({},e.selectedFilterId,{tableName:{$set:t}}))}}}),zn=Object(C.a)(qn.prototype,"updateFilter",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,a){var i=e.queries.map((function(e){return e.id})).indexOf(e.selectedFilterId);e.queries=Rt()(e.queries,Object(k.a)({},i,{conditions:Object(k.a)({},n,Object(k.a)({},t,{$set:a}))})),console.error(e.queries)}}}),Un=Object(C.a)(qn.prototype,"cancelEmptyCondition",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),Gn=Object(C.a)(qn.prototype,"cancelEdit",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.selectedFilterId=null}}}),Kn=Object(C.a)(qn.prototype,"deleteFilter",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return function(){e.queries=e.queries.filter((function(e){return e.id!=t})),e.selectedFilterId=null}}}}),Yn=Object(C.a)(qn.prototype,"duplicateFilter",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return function(){var n=e.queries.find((function(e){return e.id==t}));e.queries.push(Object(se.cloneDeep)(Object(a.a)(Object(a.a)({},n),{},{id:Object(A.a)()})))}}}}),Object(C.a)(qn.prototype,"selectedTable",[w.computed],Object.getOwnPropertyDescriptor(qn.prototype,"selectedTable"),qn.prototype),Object(C.a)(qn.prototype,"selectedFilter",[w.computed],Object.getOwnPropertyDescriptor(qn.prototype,"selectedFilter"),qn.prototype),Object(C.a)(qn.prototype,"parsedQueries",[w.computed],Object.getOwnPropertyDescriptor(qn.prototype,"parsedQueries"),qn.prototype),qn),Fa=(Jn=function(){function e(){Object(b.a)(this,e),Object(_.a)(this,"userProfile",Wn,this),Object(_.a)(this,"loading",Hn,this),Object(_.a)(this,"authed",Qn,this),Object(k.a)(this,"onStompMessage",(function(e){})),Object(w.makeObservable)(this)}return Object(m.a)(e,[{key:"test_authentication",value:function(){var e=this;return y.a.get("/stomp/info").then((function(t){e.signIn()})).catch((function(t){403===t.response.status&&e.signOut()}))}},{key:"registerTopics",value:function(e,t){var n=this;this.stompWebsocket=e,t.forEach((function(e){n.stompWebsocket.registerCallback(e,(function(e){return n.onStompMessage(e)}))}))}},{key:"signIn",value:function(){localStorage.setItem("authed",!0),this.loading=!1,this.authed=!0}},{key:"signOut",value:function(){localStorage.removeItem("authed"),this.loading=!1,this.authed=!1}}]),e}(),Wn=Object(C.a)(Jn.prototype,"userProfile",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{role:"business_user"}}}),Hn=Object(C.a)(Jn.prototype,"loading",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qn=Object(C.a)(Jn.prototype,"authed",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(C.a)(Jn.prototype,"signIn",[w.action],Object.getOwnPropertyDescriptor(Jn.prototype,"signIn"),Jn.prototype),Object(C.a)(Jn.prototype,"signOut",[w.action],Object.getOwnPropertyDescriptor(Jn.prototype,"signOut"),Jn.prototype),Jn),Ea=[{id:0,name:"Empty template",description:"Build from scratch",layouts:[],configs:[]},{id:1,name:"Test template",description:"This is a test template.",layouts:[{value:{name:"Daffy Duck"},geometry:{x:90,y:60,width:120,height:30,relative:!1,TRANSLATE_CONTROL_POINTS:!0,alternateBounds:null,sourcePoint:null,targetPoint:null,points:null,offset:null},id:"2",vertex:!0,connectable:!0,parent:"1",source:null,target:null,edges:[{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},id:"4",edge:!0,parent:"1",source:"2",target:"3",mxObjectId:"mxCell#7"}],mxObjectId:"mxCell#6"},{value:{name:"Bugs Bunny"},geometry:{x:300,y:60,width:120,height:30,relative:!1,TRANSLATE_CONTROL_POINTS:!0,alternateBounds:null,sourcePoint:null,targetPoint:null,points:null,offset:null},id:"3",vertex:!0,connectable:!0,parent:"1",source:null,target:null,edges:[{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},id:"4",edge:!0,parent:"1",source:"2",target:"3",mxObjectId:"mxCell#7"}],mxObjectId:"mxCell#8"},{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},id:"4",edge:!0,parent:"1",source:"2",target:"3",mxObjectId:"mxCell#7"},{value:{name:"Elmer Fudd"},geometry:{x:90,y:220,width:120,height:30,relative:!1,TRANSLATE_CONTROL_POINTS:!0,alternateBounds:null,sourcePoint:null,targetPoint:null,points:null,offset:null},id:"5",vertex:!0,connectable:!0,parent:"1",source:null,target:null,edges:[{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},id:"7",edge:!0,parent:"1",source:"5",target:"6",mxObjectId:"mxCell#10"}],mxObjectId:"mxCell#9"},{value:{name:"Tasmanian Devil"},geometry:{x:300,y:220,width:120,height:30,relative:!1,TRANSLATE_CONTROL_POINTS:!0,alternateBounds:null,sourcePoint:null,targetPoint:null,points:null,offset:null},id:"6",vertex:!0,connectable:!0,parent:"1",source:null,target:null,edges:[{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},id:"7",edge:!0,parent:"1",source:"5",target:"6",mxObjectId:"mxCell#10"}],mxObjectId:"mxCell#11"},{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},id:"7",edge:!0,parent:"1",source:"5",target:"6",mxObjectId:"mxCell#10"}],configs:[{id:"18d77770-8038-11eb-a215-8d98119e5c42",name:"Align config",skip:!1,comment:"load event with both daily and weekly timestamp.",accept:["feature"],transformer:{class:"AlignConfig",before:{},process:{},after:{}},parent:[],persistent:{}},{id:"1b3823c0-8038-11eb-a215-8d98119e5c42",name:"Bucket config",skip:!1,comment:"load event with both daily and weekly timestamp.",accept:["feature"],transformer:{class:"BucketConfig",before:{},process:{strategy:"QuantileDiscretizer"},after:{}},parent:[],persistent:{}},{id:"1f7a3a40-8038-11eb-a215-8d98119e5c42",name:"Fill defaults config",skip:!1,comment:"load event with both daily and weekly timestamp.",accept:["feature"],transformer:{class:"FillDefaultsConfig",before:{},process:{},after:{}},parent:["18d77770-8038-11eb-a215-8d98119e5c42","1b3823c0-8038-11eb-a215-8d98119e5c42"],persistent:{}}]},{id:"2",name:"Default template",description:"Generate default template",configs:[{id:"79046cf0-80f8-11eb-b536-9706ea4eeccc",name:"Align config",skip:!1,comment:"load event with both daily and weekly timestamp.",accept:["feature"],transformer:{class:"AlignConfig",before:{},process:{},after:{}},parent:[],persistent:{}},{id:"7bb2eb20-80f8-11eb-b536-9706ea4eeccc",name:"Fill defaults config",skip:!1,comment:"load event with both daily and weekly timestamp.",accept:["feature"],transformer:{class:"FillDefaultsConfig",before:{},process:{},after:{}},parent:["79046cf0-80f8-11eb-b536-9706ea4eeccc"],persistent:{}},{id:"7daf7e70-80f8-11eb-b536-9706ea4eeccc",name:"Bucket config",skip:!1,comment:"load event with both daily and weekly timestamp.",accept:["feature"],transformer:{class:"BucketConfig",before:{},process:{strategy:"QuantileDiscretizer"},after:{}},parent:["7bb2eb20-80f8-11eb-b536-9706ea4eeccc"],persistent:{}}],layouts:[{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},style:null,id:"7f12df00-80f8-11eb-b536-9706ea4eeccc",edge:!0,parent:"1",source:"79046cf0-80f8-11eb-b536-9706ea4eeccc",target:"7bb2eb20-80f8-11eb-b536-9706ea4eeccc",mxObjectId:"mxCell#12"},{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},style:null,id:"80a7afd0-80f8-11eb-b536-9706ea4eeccc",edge:!0,parent:"1",source:"7bb2eb20-80f8-11eb-b536-9706ea4eeccc",target:"7daf7e70-80f8-11eb-b536-9706ea4eeccc"},{value:{name:"Align config"},geometry:{x:201,y:105,width:100,height:40,TRANSLATE_CONTROL_POINTS:!0,alternateBounds:null,sourcePoint:null,targetPoint:null,points:null,offset:null,relative:!1},style:"shape=rounded",vertex:!0,edge:!1,connectable:!0,visible:!0,collapsed:!1,mxTransient:["id","value","parent","source","target","children","edges"],id:"79046cf0-80f8-11eb-b536-9706ea4eeccc",parent:"1",source:null,target:null,mxObjectId:"mxCell#7",edges:[{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},style:null,id:"7f12df00-80f8-11eb-b536-9706ea4eeccc",edge:!0,parent:"1",source:"79046cf0-80f8-11eb-b536-9706ea4eeccc",target:"7bb2eb20-80f8-11eb-b536-9706ea4eeccc",mxObjectId:"mxCell#12"}]},{value:{name:"Fill defaults config"},geometry:{x:201,y:227,width:100,height:40,TRANSLATE_CONTROL_POINTS:!0,alternateBounds:null,sourcePoint:null,targetPoint:null,points:null,offset:null,relative:!1},style:"shape=rounded",vertex:!0,edge:!1,connectable:!0,visible:!0,collapsed:!1,mxTransient:["id","value","parent","source","target","children","edges"],id:"7bb2eb20-80f8-11eb-b536-9706ea4eeccc",parent:"1",source:null,target:null,mxObjectId:"mxCell#9",edges:[{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},style:null,id:"7f12df00-80f8-11eb-b536-9706ea4eeccc",edge:!0,parent:"1",source:"79046cf0-80f8-11eb-b536-9706ea4eeccc",target:"7bb2eb20-80f8-11eb-b536-9706ea4eeccc",mxObjectId:"mxCell#12"},{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},style:null,id:"80a7afd0-80f8-11eb-b536-9706ea4eeccc",edge:!0,parent:"1",source:"7bb2eb20-80f8-11eb-b536-9706ea4eeccc",target:"7daf7e70-80f8-11eb-b536-9706ea4eeccc"}]},{value:{name:"Bucket config"},geometry:{x:203,y:361,width:100,height:40,TRANSLATE_CONTROL_POINTS:!0,alternateBounds:null,sourcePoint:null,targetPoint:null,points:null,offset:null,relative:!1},style:"shape=rounded",vertex:!0,edge:!1,connectable:!0,visible:!0,collapsed:!1,mxTransient:["id","value","parent","source","target","children","edges"],id:"7daf7e70-80f8-11eb-b536-9706ea4eeccc",parent:"1",source:null,target:null,mxObjectId:"mxCell#11",edges:[{value:"Edge",geometry:{x:0,y:0,width:0,height:0,relative:!0},style:null,id:"80a7afd0-80f8-11eb-b536-9706ea4eeccc",edge:!0,parent:"1",source:"7bb2eb20-80f8-11eb-b536-9706ea4eeccc",target:"7daf7e70-80f8-11eb-b536-9706ea4eeccc"}]}]}],Aa=(Xn=function e(t){Object(b.a)(this,e),Object(_.a)(this,"templates",Zn,this),Object(_.a)(this,"currentTemplate",ea,this),Object(_.a)(this,"previewTemplate",ta,this),Object(_.a)(this,"copyTemplate",na,this),Object(_.a)(this,"publishTemplate",aa,this),this.rulesStore=t,Object(w.makeObservable)(this)},Zn=Object(C.a)(Xn.prototype,"templates",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ea}}),ea=Object(C.a)(Xn.prototype,"currentTemplate",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ea[0]}}),ta=Object(C.a)(Xn.prototype,"previewTemplate",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentTemplate=t}}}),na=Object(C.a)(Xn.prototype,"copyTemplate",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.rulesStore.applyTemplate(e.currentTemplate.configs,e.currentTemplate.layouts)}}}),aa=Object(C.a)(Xn.prototype,"publishTemplate",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t={id:+new Date,name:+new Date,description:+new Date,layouts:e.rulesStore.layouts,configs:e.rulesStore.configs};console.error(Q(t.layouts)),e.templates.push(t)}}}),Xn),qa={id:1,name:"Shaobo Liu",email:"shaobo.liu@magicbean.ai",role:"Data scientist",admin:!0,avatarUrl:"https://i.pravatar.cc/32?img=58",joinedAt:"March 25, 2021"},Ra={type:"postgresql",name:"Event Table",host:"localhost",port:"5432",database:"metrics",username:"abc",password:";SjK!c8er7e.#IX"},$a=(ia=function(){function e(){Object(b.a)(this,e),Object(_.a)(this,"users",ra,this),Object(_.a)(this,"dataSources",ca,this),Object(w.makeAutoObservable)(this)}return Object(m.a)(e,[{key:"createUser",value:function(e){this.users.push(e)}},{key:"fetchUsers",value:function(){this.users=[qa]}},{key:"fetchDataSources",value:function(){this.dataSources=[Ra]}},{key:"createDataSource",value:function(e){this.dataSources.push(e)}}]),e}(),ra=Object(C.a)(ia.prototype,"users",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ca=Object(C.a)(ia.prototype,"dataSources",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(C.a)(ia.prototype,"createUser",[w.action],Object.getOwnPropertyDescriptor(ia.prototype,"createUser"),ia.prototype),Object(C.a)(ia.prototype,"fetchUsers",[w.action],Object.getOwnPropertyDescriptor(ia.prototype,"fetchUsers"),ia.prototype),Object(C.a)(ia.prototype,"fetchDataSources",[w.action],Object.getOwnPropertyDescriptor(ia.prototype,"fetchDataSources"),ia.prototype),Object(C.a)(ia.prototype,"createDataSource",[w.action],Object.getOwnPropertyDescriptor(ia.prototype,"createDataSource"),ia.prototype),ia),Ba=(sa=function(){function e(t){var n=this;Object(b.a)(this,e),Object(_.a)(this,"projects",oa,this),Object(_.a)(this,"currentProjectId",la,this),Object(_.a)(this,"graphxClient",da,this),Object(k.a)(this,"_setCurrentProjectForRulesStore",(function(e){n.currentProjectId=e,n.rulesStore.currentProject=n.projects.find((function(t){return t.id==e})),n.rulesStore.layouts=n.rulesStore.currentProject.layouts?n.rulesStore.currentProject.layouts.map((function(e){return JSON.parse(e.layout)})):[],n.rulesStore.configs=n.rulesStore.currentProject.configs?n.rulesStore.currentProject.configs.map((function(e){return JSON.parse(e.config)})):[];var t={};n.rulesStore.configs.forEach((function(e){t[e.id]=e})),n.rulesStore.nodesMap=t,n.rulesStore.currentNodeId=null})),Object(k.a)(this,"create",(function(e,t){var a=n._makeBinding(t);n.stompWebsocket.send("/app/create_project",{cid:a},JSON.stringify({project:e}))})),Object(k.a)(this,"update",(function(e,t){var a=n._makeBinding(t);n.stompWebsocket.send("/app/update_project",{cid:a},JSON.stringify(e))})),Object(k.a)(this,"fetchAllProjects",(function(e){var t=n._makeBinding(e);n.stompWebsocket.send("/app/get_projects",{cid:t})})),Object(k.a)(this,"fetchAllProjectsIfNeeded",(function(e){0===n.projects.length&&n.fetchAllProjects(e)})),Object(k.a)(this,"delete",(function(e,t){var a=n._makeBinding(t);n.stompWebsocket.send("/app/delete_project",{cid:a},JSON.stringify({id:e}))})),Object(k.a)(this,"setCurrentProject",(function(e){n.projects.length>0?n._setCurrentProjectForRulesStore(e):n.fetchAllProjects((function(){n._setCurrentProjectForRulesStore(e)}))})),Object(k.a)(this,"_makeBinding",(function(e){var t=e||function(){},a=n.stompWebsocket.makeRef();return n.bindings[a]=t,a})),Object(k.a)(this,"setGraphXClient",(function(e){n.graphxClient=e})),Object(w.makeAutoObservable)(this),this.rulesStore=t,this.bindings={}}return Object(m.a)(e,[{key:"registerTopics",value:function(e,t){var n=this;this.stompWebsocket=e,t.forEach((function(e){n.stompWebsocket.registerCallback(e,(function(e){return n.onStompMessage(e)}))})),this.fetchAllProjects()}},{key:"onStompMessage",value:function(e){var t=JSON.parse(e.body),n=t.content,i=t.status,r=t.action,c=t.cid;switch(r){case"AllProjects":this.projects=n,this.invokeCallback(n,c,i);break;case"CreateProject":"Success"===i&&(this.projects.push(n),this.invokeCallback(n,c,i));break;case"CreatedProject":this.projects.push(n);break;case"UpdateProject":if("Success"==i){var s=this.projects.map((function(e){return e.id})).indexOf(n.id);this.projects=Rt()(this.projects,{$splice:[[[s],1,Object(a.a)(Object(a.a)({},this.projects[s]),n)]]}),this.invokeCallback(n,c,i)}break;case"UpdatedProject":var o=this.projects.map((function(e){return e.id})).indexOf(n.id);this.projects=Rt()(this.projects,{$splice:[[[o],1,Object(a.a)(Object(a.a)({},this.projects[o]),n)]]}),this._setCurrentProjectForRulesStore(n.id),n.id==this.currentProjectId&&this.graphxClient.render({layouts:this.rulesStore.layouts});break;case"DeleteProject":"Success"==i&&(this.projects=this.projects.filter((function(e){return e.id!=n.id})),this.invokeCallback(n,c,i));break;case"DeletedProject":this.projects=this.projects.filter((function(e){return e.id!=n.id}))}}},{key:"invokeCallback",value:function(e,t,n){t&&this.bindings[t]&&(this.bindings[t](e),delete this.bindings[t])}}]),e}(),oa=Object(C.a)(sa.prototype,"projects",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),la=Object(C.a)(sa.prototype,"currentProjectId",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),da=Object(C.a)(sa.prototype,"graphxClient",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sa),Ma=n(269),La=n.n(Ma),Va=n(270),za=n(271),Ua=n(272),Ga=n(273),Ka=n(274),Ya=new La.a({strict:!1});Ya.addSchema(za),Ya.addSchema(Va),Ya.addSchema(Ga),Ya.addSchema(Ua);Ya.compile(Ka),n(608);var Ja=new Sa("/stomp"),Wa=new Fa,Ha=new Ta,Qa=new Ba(Ha),Xa=new $a,Za=new Da,ei=new Aa(Ha),ti=Object(d.a)(),ni=new u.RouterStore;Qa.registerTopics(Ja,["/user/topic/projects"]),Wa.registerTopics(Ja,[]),Ha.registerTopics(Ja),Wa.test_authentication().then((function(){Ja.connect()}));var ai={userStore:Wa,rulesStore:Ha,queriesStore:Za,templatesStore:ei,routingStore:ni,adminStore:Xa,projectStore:Qa},ii=Object(u.syncHistoryWithStore)(ti,ni);o.a.render(Object(i.jsx)(l.a,Object(a.a)(Object(a.a)({},ai),{},{children:Object(i.jsx)(p.c,{history:ii,children:Object(i.jsx)(xa,{})})})),document.getElementById("root"))}},[[609,1,2]]]);
//# sourceMappingURL=main.197966b9.chunk.js.map